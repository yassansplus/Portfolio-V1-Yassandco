

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Change Log &mdash; CodeIgniter 3.1.6 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/citheme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="CodeIgniter 3.1.6 documentation" href="index.html"/>
        <link rel="next" title="The MIT License (MIT)" href="license.html"/>
        <link rel="prev" title="XML Helper" href="helpers/xml_helper.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="general/welcome.html">Welcome to CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation/index.html">Installation Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation/downloads.html">Downloading CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/index.html">Installation Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/upgrading.html">Upgrading From a Previous Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview/index.html">CodeIgniter Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/at_a_glance.html">CodeIgniter at a Glance</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/features.html">Supported Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/appflow.html">Application Flow Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/goals.html">Architectural Goals</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/static_pages.html">Static pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/news_section.html">News section</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/create_news_items.html">Create news items</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/conclusion.html">Conclusion</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing/index.html">Contributing to CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation/index.html">Writing CodeIgniter Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="DCO.html">Developer’s Certificate of Origin 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="general/index.html">General Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="general/urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/reserved_names.html">Reserved Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/libraries.html">Using CodeIgniter Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/creating_libraries.html">Creating Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/drivers.html">Using CodeIgniter Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/creating_drivers.html">Creating Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/core_classes.html">Creating Core System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/ancillary_classes.html">Creating Ancillary Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/hooks.html">Hooks - Extending the Framework Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/autoloader.html">Auto-loading Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/common_functions.html">Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/compatibility_functions.html">Compatibility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/caching.html">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/profiling.html">Profiling Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/cli.html">Running via the CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/managing_apps.html">Managing your Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/environments.html">Handling Multiple Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/alternative_php.html">Alternate PHP Syntax for View Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/styleguide.html">PHP Style Guide</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="libraries/index.html">Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="libraries/benchmark.html">Benchmarking Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/caching.html">Caching Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/calendar.html">Calendaring Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/cart.html">Shopping Cart Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/config.html">Config Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/email.html">Email Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/encrypt.html">Encrypt Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/encryption.html">Encryption Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/file_uploading.html">File Uploading Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/form_validation.html">Form Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/ftp.html">FTP Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/image_lib.html">Image Manipulation Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/input.html">Input Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/javascript.html">Javascript Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/language.html">Language Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/loader.html">Loader Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/migration.html">Migrations Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/output.html">Output Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/pagination.html">Pagination Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/parser.html">Template Parser Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/security.html">Security Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/sessions.html">Session Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/table.html">HTML Table Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/trackback.html">Trackback Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/typography.html">Typography Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/unit_testing.html">Unit Testing Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/uri.html">URI Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/user_agent.html">User Agent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/xmlrpc.html">XML-RPC and XML-RPC Server Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/zip.html">Zip Encoding Class</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="database/index.html">Database Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database/examples.html">Quick Start: Usage Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/configuration.html">Database Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/connecting.html">Connecting to a Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/queries.html">Running Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/results.html">Generating Query Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/helpers.html">Query Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/query_builder.html">Query Builder Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/transactions.html">Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/metadata.html">Getting MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/call_function.html">Custom Function Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/caching.html">Query Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/forge.html">Database Manipulation with Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/utilities.html">Database Utilities Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/db_driver_reference.html">Database Driver Reference</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="helpers/array_helper.html">Array Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/date_helper.html">Date Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/directory_helper.html">Directory Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/download_helper.html">Download Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/email_helper.html">Email Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/file_helper.html">File Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/form_helper.html">Form Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/inflector_helper.html">Inflector Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/language_helper.html">Language Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/number_helper.html">Number Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/path_helper.html">Path Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/security_helper.html">Security Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/smiley_helper.html">Smiley Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/string_helper.html">String Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/typography_helper.html">Typography Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/xml_helper.html">XML Helper</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="general/welcome.html">Welcome to CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation/index.html">Installation Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation/downloads.html">Downloading CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/index.html">Installation Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/upgrading.html">Upgrading From a Previous Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview/index.html">CodeIgniter Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/at_a_glance.html">CodeIgniter at a Glance</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/features.html">Supported Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/appflow.html">Application Flow Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/goals.html">Architectural Goals</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/static_pages.html">Static pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/news_section.html">News section</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/create_news_items.html">Create news items</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/conclusion.html">Conclusion</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing/index.html">Contributing to CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation/index.html">Writing CodeIgniter Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="DCO.html">Developer’s Certificate of Origin 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="general/index.html">General Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="general/urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/reserved_names.html">Reserved Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/libraries.html">Using CodeIgniter Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/creating_libraries.html">Creating Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/drivers.html">Using CodeIgniter Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/creating_drivers.html">Creating Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/core_classes.html">Creating Core System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/ancillary_classes.html">Creating Ancillary Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/hooks.html">Hooks - Extending the Framework Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/autoloader.html">Auto-loading Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/common_functions.html">Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/compatibility_functions.html">Compatibility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/caching.html">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/profiling.html">Profiling Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/cli.html">Running via the CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/managing_apps.html">Managing your Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/environments.html">Handling Multiple Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/alternative_php.html">Alternate PHP Syntax for View Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/styleguide.html">PHP Style Guide</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="libraries/index.html">Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="libraries/benchmark.html">Benchmarking Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/caching.html">Caching Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/calendar.html">Calendaring Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/cart.html">Shopping Cart Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/config.html">Config Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/email.html">Email Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/encrypt.html">Encrypt Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/encryption.html">Encryption Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/file_uploading.html">File Uploading Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/form_validation.html">Form Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/ftp.html">FTP Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/image_lib.html">Image Manipulation Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/input.html">Input Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/javascript.html">Javascript Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/language.html">Language Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/loader.html">Loader Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/migration.html">Migrations Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/output.html">Output Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/pagination.html">Pagination Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/parser.html">Template Parser Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/security.html">Security Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/sessions.html">Session Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/table.html">HTML Table Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/trackback.html">Trackback Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/typography.html">Typography Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/unit_testing.html">Unit Testing Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/uri.html">URI Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/user_agent.html">User Agent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/xmlrpc.html">XML-RPC and XML-RPC Server Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/zip.html">Zip Encoding Class</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="database/index.html">Database Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database/examples.html">Quick Start: Usage Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/configuration.html">Database Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/connecting.html">Connecting to a Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/queries.html">Running Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/results.html">Generating Query Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/helpers.html">Query Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/query_builder.html">Query Builder Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/transactions.html">Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/metadata.html">Getting MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/call_function.html">Custom Function Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/caching.html">Query Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/forge.html">Database Manipulation with Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/utilities.html">Database Utilities Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/db_driver_reference.html">Database Driver Reference</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="helpers/array_helper.html">Array Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/date_helper.html">Date Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/directory_helper.html">Directory Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/download_helper.html">Download Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/email_helper.html">Email Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/file_helper.html">File Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/form_helper.html">Form Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/inflector_helper.html">Inflector Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/language_helper.html">Language Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/number_helper.html">Number Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/path_helper.html">Path Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/security_helper.html">Security Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/smiley_helper.html">Smiley Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/string_helper.html">String Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/typography_helper.html">Typography Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/xml_helper.html">XML Helper</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Change Log</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="change-log">
<h1>Change Log<a class="headerlink" href="#change-log" title="Permalink to this headline">¶</a></h1>
<div class="section" id="version-3-1-6">
<h2>Version 3.1.6<a class="headerlink" href="#version-3-1-6" title="Permalink to this headline">¶</a></h2>
<p>Release Date: Sep 25, 2017</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed a potential object injection in <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> ‘apc’ driver when <code class="docutils literal"><span class="pre">save()</span></code> is used with <code class="docutils literal"><span class="pre">$raw</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> (thanks to Tomas Bortoli).</li>
</ul>
</li>
<li>General Changes<ul>
<li>Deprecated <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library Library</span></a> driver ‘apc’.</li>
<li>Updated the <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> ‘redis’, ‘memcached’ drivers to reduce the potential of a locking race conditions.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-1-6">
<h3>Bug fixes for 3.1.6<a class="headerlink" href="#bug-fixes-for-3-1-6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#5164) - <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> method <code class="docutils literal"><span class="pre">library()</span></code> ignored requests to load libraries previously assigned to super-object properties named differently than the library name.</li>
<li>Fixed a bug (#5168) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">count_all_results()</span></code> produced erroneous queries on Microsoft SQL Server when <code class="docutils literal"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clauses are cached.</li>
<li>Fixed a bug (#5128) - <a class="reference internal" href="general/profiling.html"><span class="doc">Profiler</span></a> didn’t wrap <code class="docutils literal"><span class="pre">$_SESSION</span></code> and configuration arrays in <code class="docutils literal"><span class="pre">&lt;pre&gt;</span></code> tags.</li>
<li>Fixed a bug (#5183) - <a class="reference internal" href="database/index.html"><span class="doc">Database Library</span></a> method <code class="docutils literal"><span class="pre">is_write_type()</span></code> didn’t return TRUE for <code class="docutils literal"><span class="pre">MERGE</span></code> statements.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> didn’t escape image source paths passed to NetPBM as shell arguments.</li>
<li>Fixed a bug (#5236) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> methods <code class="docutils literal"><span class="pre">limit()</span></code>, <code class="docutils literal"><span class="pre">offset()</span></code> break SQL Server 2005, 2008 queries with <code class="docutils literal"><span class="pre">&quot;&lt;tablename&gt;&quot;.*</span></code> in the <code class="docutils literal"><span class="pre">SELECT</span></code> clause.</li>
<li>Fixed a bug (#5243) - <a class="reference internal" href="database/index.html"><span class="doc">Database Library</span></a> method <code class="docutils literal"><span class="pre">version()</span></code> didn’t work with the ‘pdo/dblib’ driver.</li>
<li>Fixed a bug (#5246) - <a class="reference internal" href="database/transactions.html"><span class="doc">Database transactions</span></a> status wasn’t reset unless <code class="docutils literal"><span class="pre">trans_complete()</span></code> was called.</li>
<li>Fixed a bug (#5260) - <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utilities</span></a> method <code class="docutils literal"><span class="pre">backup()</span></code> generated incorrect <code class="docutils literal"><span class="pre">INSERT</span></code> statements with the ‘mysqli’ driver.</li>
<li>Fixed a bug where <a class="reference internal" href="database/results.html"><span class="doc">Database Results</span></a> method <code class="docutils literal"><span class="pre">field_data()</span></code> didn’t parse field types with the ‘mysqli’ driver.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-1-5">
<h2>Version 3.1.5<a class="headerlink" href="#version-3-1-5" title="Permalink to this headline">¶</a></h2>
<p>Release Date: Jun 19, 2017</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li><a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> rule <code class="docutils literal"><span class="pre">valid_email</span></code> could be bypassed if <code class="docutils literal"><span class="pre">idn_to_ascii()</span></code> is available.</li>
</ul>
</li>
<li>General Changes<ul>
<li>Updated <a class="reference internal" href="helpers/form_helper.html"><span class="doc">Form Helper</span></a> function <a class="reference internal" href="helpers/form_helper.html#form_label" title="form_label"><code class="xref php php-func docutils literal"><span class="pre">form_label()</span></code></a> to accept HTML attributes as a string.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-1-5">
<h3>Bug fixes for 3.1.5<a class="headerlink" href="#bug-fixes-for-3-1-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#5070) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> didn’t properly detect 7-bit encoding.</li>
<li>Fixed a bug (#5084) - <a class="reference internal" href="libraries/xmlrpc.html"><span class="doc">XML-RPC Library</span></a> errored because of a variable name typo.</li>
<li>Fixed a bug (#5108) - <a class="reference internal" href="helpers/inflector_helper.html"><span class="doc">Inflector Helper</span></a> function <a class="reference internal" href="helpers/inflector_helper.html#singular" title="singular"><code class="xref php php-func docutils literal"><span class="pre">singular()</span></code></a> didn’t properly handle ‘quizzes’.</li>
<li>Fixed a regression (#5131) - private controller methods triggered PHP errors instead of a 404 response.</li>
<li>Fixed a bug (#5150) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> method <code class="docutils literal"><span class="pre">modify_column()</span></code> triggered an error while renaming columns with the ‘oci8’, ‘pdo/oci’ drivers.</li>
<li>Fixed a bug (#5155) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">count_all_results()</span></code> returned incorrect result for queries using <code class="docutils literal"><span class="pre">LIMIT</span></code>, <code class="docutils literal"><span class="pre">OFFSET</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-1-4">
<h2>Version 3.1.4<a class="headerlink" href="#version-3-1-4" title="Permalink to this headline">¶</a></h2>
<p>Release Date: Mar 20, 2017</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed a header injection vulnerability in <a class="reference internal" href="general/common_functions.html"><span class="doc">common function</span></a> <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><code class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></code></a> under Apache (thanks to Guillermo Caminer from <a class="reference external" href="https://flowgate.net/">Flowgate</a>).</li>
<li>Fixed byte-safety issues in <a class="reference internal" href="libraries/encrypt.html"><span class="doc">Encrypt Library</span></a> (DEPRECATED) when <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
<li>Fixed byte-safety issues in <a class="reference internal" href="libraries/encryption.html"><span class="doc">Encryption Library</span></a> when <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
<li>Fixed byte-safety issues in <a class="reference internal" href="general/compatibility_functions.html"><span class="doc">compatibility functions</span></a> <code class="docutils literal"><span class="pre">password_hash()</span></code>, <code class="docutils literal"><span class="pre">hash_pbkdf2()</span></code> when <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
<li>Updated <a class="reference internal" href="libraries/encrypt.html"><span class="doc">Encrypt Library</span></a> (DEPRECATED) to call <code class="docutils literal"><span class="pre">mcrypt_create_iv()</span></code> with <code class="docutils literal"><span class="pre">MCRYPT_DEV_URANDOM</span></code>.</li>
</ul>
</li>
<li>General Changes<ul>
<li>Updated the <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> to work-around an issue with some JPEGs when using GD.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-1-4">
<h3>Bug fixes for 3.1.4<a class="headerlink" href="#bug-fixes-for-3-1-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a regression (#4975) - <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> couldn’t handle objects passed as view variables.</li>
<li>Fixed a bug (#4977) - <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> method <code class="docutils literal"><span class="pre">helper()</span></code> could accept any character as a filename extension separator.</li>
<li>Fixed a regression where the <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> would fail on a <code class="docutils literal"><span class="pre">session_regenerate_id(TRUE)</span></code> call with the ‘database’ driver.</li>
<li>Fixed a bug (#4987) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> caching didn’t keep track of table aliases.</li>
<li>Fixed a bug where <a class="reference internal" href="helpers/text_helper.html"><span class="doc">Text Helper</span></a> function <code class="docutils literal"><span class="pre">ascii_to_entities()</span></code> wasn’t byte-safe when <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
<li>Fixed a bug where <code class="docutils literal"><span class="pre">CI_Log</span></code>, <code class="docutils literal"><span class="pre">CI_Output</span></code>, <code class="docutils literal"><span class="pre">CI_Email</span></code> and <code class="docutils literal"><span class="pre">CI_Zip</span></code> didn’t handle strings in a byte-safe manner when <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> didn’t read session data in a byte-safe manner when <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
<li>Fixed a bug (#4990) - <a class="reference internal" href="general/profiling.html"><span class="doc">Profiler</span></a> didn’t close <code class="docutils literal"><span class="pre">&lt;pre&gt;</span></code> tags it generated.</li>
<li>Fixed a bug (#4990) - <a class="reference internal" href="general/profiling.html"><span class="doc">Profiler</span></a> didn’t HTML-escape quotes for <code class="docutils literal"><span class="pre">$_SESSION</span></code> variables.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a> method <code class="docutils literal"><span class="pre">set_cookie()</span></code> didn’t allow its <em>httponly</em> and <em>secure</em> parameters to be overriden to <code class="docutils literal"><span class="pre">FALSE</span></code>.</li>
<li>Fixed a bug (#5006) - <a class="reference internal" href="general/common_functions.html"><span class="doc">common function</span></a> <a class="reference internal" href="general/common_functions.html#get_mimes" title="get_mimes"><code class="xref php php-func docutils literal"><span class="pre">get_mimes()</span></code></a> didn’t load <em>application/config/mimes.php</em> if an environment specific config exists.</li>
<li>Fixed a bug (#5006) - <a class="reference internal" href="general/common_functions.html"><span class="doc">common function</span></a> <a class="reference internal" href="general/common_functions.html#remove_invisible_characters" title="remove_invisible_characters"><code class="xref php php-func docutils literal"><span class="pre">remove_invisible_characters()</span></code></a> didn’t remove URL-encoded <code class="docutils literal"><span class="pre">0x7F</span></code>.</li>
<li>Fixed a bug (#4815) - <a class="reference internal" href="database/index.html"><span class="doc">Database Library</span></a> stripped URL-encoded sequences while escaping strings with the ‘mssql’ driver.</li>
<li>Fixed a bug (#5044) - <a class="reference internal" href="helpers/html_helper.html"><span class="doc">HTML Helper</span></a> function <a class="reference internal" href="helpers/html_helper.html#img" title="img"><code class="xref php php-func docutils literal"><span class="pre">img()</span></code></a> didn’t accept <code class="docutils literal"><span class="pre">data:</span></code> URI schemes for the image source.</li>
<li>Fixed a bug (#5050) - <a class="reference internal" href="database/index.html"><span class="doc">Database Library</span></a> tried to access an undefined property in a number of error handling cases.</li>
<li>Fixed a bug (#5057) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> driver ‘postgre’ didn’t actually apply extra options (such as ‘connect_timeout’) to its DSN.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-1-3">
<h2>Version 3.1.3<a class="headerlink" href="#version-3-1-3" title="Permalink to this headline">¶</a></h2>
<p>Release Date: Jan 09, 2017</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed an XSS vulnerability in <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">xss_clean()</span></code>.</li>
<li>Fixed a possible file inclusion vulnerability in <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> method <code class="docutils literal"><span class="pre">vars()</span></code>.</li>
<li>Fixed a possible remote code execution vulnerability in the <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> when ‘mail’ or ‘sendmail’ are used (thanks to Paul Buonopane from <a class="reference external" href="https://www.namepros.com/">NamePros</a>).</li>
<li>Added protection against timing side-channel attacks in <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">csrf_verify()</span></code>.</li>
<li>Added protection against BREACH attacks targeting the CSRF token field generated by <a class="reference internal" href="helpers/form_helper.html"><span class="doc">Form Helper</span></a> function <a class="reference internal" href="helpers/form_helper.html#form_open" title="form_open"><code class="xref php php-func docutils literal"><span class="pre">form_open()</span></code></a>.</li>
</ul>
</li>
<li>General Changes<ul>
<li>Deprecated <code class="docutils literal"><span class="pre">$config['allow_get_array']</span></code>.</li>
<li>Deprecated <code class="docutils literal"><span class="pre">$config['standardize_newlines']</span></code>.</li>
<li>Deprecated <a class="reference internal" href="helpers/date_helper.html"><span class="doc">Date Helper</span></a> function <a class="reference internal" href="helpers/date_helper.html#nice_date" title="nice_date"><code class="xref php php-func docutils literal"><span class="pre">nice_date()</span></code></a>.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-1-3">
<h3>Bug fixes for 3.1.3<a class="headerlink" href="#bug-fixes-for-3-1-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#4886) - <a class="reference internal" href="database/index.html"><span class="doc">Database Library</span></a> didn’t differentiate bind markers inside double-quoted strings in queries.</li>
<li>Fixed a bug (#4890) - <a class="reference internal" href="libraries/xmlrpc.html"><span class="doc">XML-RPC Library</span></a> didn’t work on PHP 7.</li>
<li>Fixed a regression (#4887) - <a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> triggered fatal errors due to numerous PHP distribution channels (XAMPP and cPanel confirmed) explicitly disabling ext/fileinfo by default.</li>
<li>Fixed a bug (#4679) - <a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a> method <code class="docutils literal"><span class="pre">ip_address()</span></code> didn’t properly resolve <code class="docutils literal"><span class="pre">$config['proxy_ips']</span></code> IPv6 addresses.</li>
<li>Fixed a bug (#4902) - <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> processing via ImageMagick didn’t work.</li>
<li>Fixed a bug (#4905) - <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> didn’t take into account possible user-provided directory paths when loading helpers.</li>
<li>Fixed a bug (#4916) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> with <code class="docutils literal"><span class="pre">sess_match_ip</span></code> enabled was unusable for IPv6 clients when using the ‘database’ driver on MySQL 5.7.5+.</li>
<li>Fixed a bug (#4917) - <a class="reference internal" href="helpers/date_helper.html"><span class="doc">Date Helper</span></a> function <a class="reference internal" href="helpers/date_helper.html#nice_date" title="nice_date"><code class="xref php php-func docutils literal"><span class="pre">nice_date()</span></code></a> didn’t handle YYYYMMDD inputs properly.</li>
<li>Fixed a bug (#4923) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> could execute an erroneous SQL query with the ‘database’ driver, if the lock attempt times out.</li>
<li>Fixed a bug (#4927) - <a class="reference internal" href="libraries/output.html"><span class="doc">Output Library</span></a> method <code class="docutils literal"><span class="pre">get_header()</span></code> returned the first matching header, regardless of whether it would be replaced by a second <code class="docutils literal"><span class="pre">set_header()</span></code> call.</li>
<li>Fixed a bug (#4844) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> didn’t apply <code class="docutils literal"><span class="pre">escapeshellarg()</span></code> to the while passing the Sendmail <code class="docutils literal"><span class="pre">-f</span></code> parameter through <code class="docutils literal"><span class="pre">popen()</span></code>.</li>
<li>Fixed a bug (#4928) - the bootstrap file didn’t check if <em>config/constants.php</em> exists before trying to load it.</li>
<li>Fixed a bug (#4937) - <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> method <code class="docutils literal"><span class="pre">initialize()</span></code> didn’t translate <em>new_image</em> inputs to absolute paths.</li>
<li>Fixed a bug (#4941) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">order_by()</span></code> didn’t work with ‘RANDOM’ under the ‘pdo/sqlite’ driver.</li>
<li>Fixed a regression (#4892) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">update_batch()</span></code> didn’t properly handle identifier escaping.</li>
<li>Fixed a bug (#4953) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> method <code class="docutils literal"><span class="pre">create_table()</span></code> didn’t update an internal tables list cache if it exists but is empty.</li>
<li>Fixed a bug (#4958) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">count_all_results()</span></code> didn’t take into account cached <code class="docutils literal"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clauses.</li>
<li>Fixed a bug (#4804) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">insert_batch()</span></code> could fail if the input array pointer was modified.</li>
<li>Fixed a bug (#4962) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Force</span></a> method <code class="docutils literal"><span class="pre">alter_table()</span></code> would fail with the ‘oci8’ driver.</li>
<li>Fixed a bug (#4457) - <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> method <code class="docutils literal"><span class="pre">get_image_properties()</span></code> didn’t detect invalid images.</li>
<li>Fixed a bug (#4765) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> didn’t send the <code class="docutils literal"><span class="pre">User-Agent</span></code> header without a prior call to <code class="docutils literal"><span class="pre">clear()</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-1-2">
<h2>Version 3.1.2<a class="headerlink" href="#version-3-1-2" title="Permalink to this headline">¶</a></h2>
<p>Release Date: Oct 28, 2016</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed a number of new vulnerabilities in <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">xss_clean()</span></code>.</li>
</ul>
</li>
<li>General Changes<ul>
<li>Allowed PHP 4-style constructors (<code class="docutils literal"><span class="pre">Matching_name::Matching_name()</span></code> methods) to be used as routes, if there’s a <code class="docutils literal"><span class="pre">__construct()</span></code> to override them.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-1-2">
<h3>Bug fixes for 3.1.2<a class="headerlink" href="#bug-fixes-for-3-1-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a regression (#4874) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> didn’t take into account <code class="docutils literal"><span class="pre">session.hash_bits_per_character</span></code> when validating session IDs.</li>
<li>Fixed a bug (#4871) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">update_batch()</span></code> didn’t properly handle identifier escaping.</li>
<li>Fixed a bug (#4884) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> didn’t properly parse field names ending in ‘is’ when used inside WHERE and HAVING statements.</li>
<li>Fixed a bug where <code class="docutils literal"><span class="pre">CI_Log</span></code>, <code class="docutils literal"><span class="pre">CI_Output</span></code>, <code class="docutils literal"><span class="pre">CI_Email</span></code> and <code class="docutils literal"><span class="pre">CI_Zip</span></code> didn’t handle strings in a byte-safe manner when <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-1-1">
<h2>Version 3.1.1<a class="headerlink" href="#version-3-1-1" title="Permalink to this headline">¶</a></h2>
<p>Release Date: Oct 22, 2016</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed a flaw in <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">entity_decode()</span></code> (used by <code class="docutils literal"><span class="pre">xss_clean()</span></code>) that affects HTML 5 entities when using PHP 5.3.</li>
</ul>
</li>
<li>General Changes<ul>
<li>Added <code class="docutils literal"><span class="pre">E_PARSE</span></code> to the list of error levels detected by the shutdown handler.</li>
<li>Updated <a class="reference internal" href="helpers/inflector_helper.html"><span class="doc">Inflector Helper</span></a> <a class="reference internal" href="helpers/inflector_helper.html#is_countable" title="is_countable"><code class="xref php php-func docutils literal"><span class="pre">is_countable()</span></code></a> with more words.</li>
<li>Updated <a class="reference internal" href="general/common_functions.html"><span class="doc">common function</span></a> <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><code class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></code></a> with new status codes from IETF RFCs
<a class="reference external" href="https://tools.ietf.org/html/rfc2817">2817</a> (426)
and <a class="reference external" href="https://tools.ietf.org/html/rfc6585">6585</a> (428, 429, 431, 511).</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-1-1">
<h3>Bug fixes for 3.1.1<a class="headerlink" href="#bug-fixes-for-3-1-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#4732) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> triggered errors while writing data for a newly-created sessions with the ‘memcached’ driver.</li>
<li>Fixed a regression (#4736) - <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> processing via ImageMagick didn’t work.</li>
<li>Fixed a bug (#4737) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> didn’t add an <code class="docutils literal"><span class="pre">OFFSET</span></code> when <code class="docutils literal"><span class="pre">LIMIT</span></code> is zero or unused.</li>
<li>Fixed a regression (#4739) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> doesn’t properly separate attachment bodies from headers.</li>
<li>Fixed a bug (#4754) - <a class="reference internal" href="libraries/unit_testing.html"><span class="doc">Unit Testing Library</span></a> method <code class="docutils literal"><span class="pre">result()</span></code> didn’t translate <code class="docutils literal"><span class="pre">res_datatype</span></code>.</li>
<li>Fixed a bug (#4759) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation</span></a>, <a class="reference internal" href="libraries/trackback.html"><span class="doc">Trackback</span></a> and <a class="reference internal" href="libraries/xmlrpc.html"><span class="doc">XML-RPC</span></a> libraries treated URI schemes in a case-sensitive manner.</li>
<li>Fixed a bug (#4762) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> ‘file’ driver method <code class="docutils literal"><span class="pre">get_metadata()</span></code> checked TTL time against <code class="docutils literal"><span class="pre">mtime</span></code> instead of the cache item’s creation time.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> generated error messages on PHP 7.1.</li>
<li>Fixed a bug (#4780) - <a class="reference internal" href="general/compatibility_functions.html"><span class="doc">compatibility function</span></a> <code class="docutils literal"><span class="pre">hex2bin()</span></code> didn’t reject inputs of type “resource”.</li>
<li>Fixed a bug (#4787) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> method <code class="docutils literal"><span class="pre">valid_email()</span></code> triggered <code class="docutils literal"><span class="pre">E_WARNING</span></code> when input emails have empty domain names.</li>
<li>Fixed a bug (#4805) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> driver ‘mysqli’ didn’t use the <code class="docutils literal"><span class="pre">MYSQLI_CLIENT_SSL_DONT_VERIFY_SERVER_CERT</span></code> flag properly.</li>
<li>Fixed a bug (#4808) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">is_write_type()</span></code> only looked at the first line of a queries using <code class="docutils literal"><span class="pre">RETURNING</span></code> with the ‘postgre’, ‘pdo/pgsql’, ‘odbc’ and ‘pdo/odbc’ drivers.</li>
<li>Fixed a bug where <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">insert_batch()</span></code> tried to execute an unsupported SQL query with the ‘ibase’ and ‘pdo/firebird’ drivers.</li>
<li>Fixed a bug (#4809) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> driver ‘pdo/mysql’ didn’t turn off <code class="docutils literal"><span class="pre">AUTOCOMMIT</span></code> when starting a transaction.</li>
<li>Fixed a bug (#4822) - <a class="reference internal" href="helpers/captcha_helper.html"><span class="doc">CAPTCHA Helper</span></a> didn’t clear expired PNG images.</li>
<li>Fixed a bug (#4823) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> ‘files’ driver could enter an infinite loop if <code class="docutils literal"><span class="pre">mbstring.func_overload</span></code> is enabled.</li>
<li>Fixed a bug (#4851) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> didn’t quote schema names passed to its <code class="docutils literal"><span class="pre">create_database()</span></code> method.</li>
<li>Fixed a bug (#4863) - <a class="reference internal" href="libraries/table.html"><span class="doc">HTML Table Library</span></a> method <code class="docutils literal"><span class="pre">set_caption()</span></code> was missing method chaining support.</li>
<li>Fixed a bug (#4843) - <a class="reference internal" href="libraries/xmlrpc.html"><span class="doc">XML-RPC Library</span></a> client class didn’t set a read/write socket timeout.</li>
<li>Fixed a bug (#4865) - uncaught exceptions didn’t set the HTTP Response status code to 500 unless <code class="docutils literal"><span class="pre">display_errors</span></code> was turned On.</li>
<li>Fixed a bug (#4830) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> didn’t take into account the new session INI settings in PHP 7.1.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-1-0">
<h2>Version 3.1.0<a class="headerlink" href="#version-3-1-0" title="Permalink to this headline">¶</a></h2>
<p>Release Date: July 26, 2016</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed an SQL injection in the ‘odbc’ database driver.</li>
<li>Updated <a class="reference internal" href="helpers/path_helper.html#set_realpath" title="set_realpath"><code class="xref php php-func docutils literal"><span class="pre">set_realpath()</span></code></a> <a class="reference internal" href="helpers/path_helper.html"><span class="doc">Path Helper</span></a> function to filter-out <code class="docutils literal"><span class="pre">php://</span></code> wrapper inputs.</li>
<li>Officially dropped any kind of support for PHP 5.2.x and anything under 5.3.7.</li>
</ul>
</li>
<li>General Changes<ul>
<li>Updated <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> to validate <em>width</em> and <em>height</em> configuration values.</li>
<li>Updated <a class="reference internal" href="libraries/encryption.html"><span class="doc">Encryption Library</span></a> to always prefer <code class="docutils literal"><span class="pre">random_bytes()</span></code> when it is available.</li>
<li>Updated <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> to log ‘debug’ messages when using fallbacks to <em>session.save_path</em> (php.ini) or ‘sess_use_database’, ‘sess_table_name’ settings.</li>
<li>Added a ‘LONGTEXT’ to ‘STRING’ alias to <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> for the ‘cubrid’, ‘pdo/cubrid’ drivers.</li>
<li>Added ‘TINYINT’, ‘MEDIUMINT’, ‘INT’ and ‘BIGINT’ aliases to ‘NUMBER’ to <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> for the ‘oci8’, ‘pdo/oci’ drivers.</li>
<li><a class="reference internal" href="general/compatibility_functions.html#password_hash" title="password_hash"><code class="xref php php-func docutils literal"><span class="pre">password_hash()</span></code></a> <a class="reference internal" href="general/compatibility_functions.html"><span class="doc">compatibility function</span></a> changes:<ul>
<li>Changed salt-generation logic to prefer <code class="docutils literal"><span class="pre">random_bytes()</span></code> when it is available.</li>
<li>Changed salt-generation logic to prefer direct access to <em>/dev/urandom</em> over <code class="docutils literal"><span class="pre">openssl_random_pseudo_bytes()</span></code>.</li>
<li>Changed salt-generation logic to error if <code class="docutils literal"><span class="pre">openssl_random_pseudo_bytes()</span></code> sets its <code class="docutils literal"><span class="pre">$crypto_strong</span></code> flag to FALSE.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-1-0">
<h3>Bug fixes for 3.1.0<a class="headerlink" href="#bug-fixes-for-3-1-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug where <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> didn’t escape image source paths passed to ImageMagick as shell arguments.</li>
<li>Fixed a bug (#861) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> method <code class="docutils literal"><span class="pre">create_table()</span></code> incorrectly accepts field width constraints for MSSQL/SQLSRV integer-type columns.</li>
<li>Fixed a bug (#4562) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> didn’t check if <code class="docutils literal"><span class="pre">Memcached::quit()</span></code> is available before calling it.</li>
<li>Fixed a bug (#4563) - <a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a> method <code class="docutils literal"><span class="pre">request_headers()</span></code> ignores <code class="docutils literal"><span class="pre">$xss_clean</span></code> parameter value after first call.</li>
<li>Fixed a bug (#4605) - <a class="reference internal" href="libraries/config.html"><span class="doc">Config Library</span></a> method <code class="docutils literal"><span class="pre">site_url()</span></code> stripped trailing slashes from relative URIs passed to it.</li>
<li>Fixed a bug (#4613) - <a class="reference internal" href="libraries/config.html"><span class="doc">Email Library</span></a> failed to send multiple emails via SMTP due to “already authenticated” errors when keep-alive is enabled.</li>
<li>Fixed a bug (#4633) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> ignored multiple “callback” rules for empty, non-required fields.</li>
<li>Fixed a bug (#4637) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">error()</span></code> returned <code class="docutils literal"><span class="pre">FALSE</span></code> with the ‘oci8’ driver if there was no error.</li>
<li>Fixed a bug (#4647) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">count_all_results()</span></code> doesn’t take into account <code class="docutils literal"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clauses while deciding whether to do a subquery or not.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> ‘redis’ driver didn’t properly detect if a connection is properly closed on PHP 5.x.</li>
<li>Fixed a bug (#4583) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> didn’t properly handle inline attachments in HTML emails.</li>
<li>Fixed a bug where <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">db_select()</span></code> didn’t clear metadata cached for the previously used database.</li>
<li>Fixed a bug (#4675) - <a class="reference internal" href="helpers/file_helper.html"><span class="doc">File Helper</span></a> function <a class="reference internal" href="helpers/file_helper.html#delete_files" title="delete_files"><code class="xref php php-func docutils literal"><span class="pre">delete_files()</span></code></a> treated symbolic links as regular directories.</li>
<li>Fixed a bug (#4674) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> driver ‘dblib’ triggered E_WARNING messages while connecting.</li>
<li>Fixed a bug (#4678) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> tried to use unsupported <code class="docutils literal"><span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span></code> clause when creating tables on Oracle.</li>
<li>Fixed a bug (#4691) - <a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> method <code class="docutils literal"><span class="pre">data()</span></code> returns wrong ‘raw_name’ when the filename extension is also contained in the raw filename.</li>
<li>Fixed a bug (#4679) - <a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a> method <code class="docutils literal"><span class="pre">ip_address()</span></code> errors with a matching <code class="docutils literal"><span class="pre">$config['proxy_ips']</span></code> IPv6 address.</li>
<li>Fixed a bug (#4695) - <a class="reference internal" href="libraries/user_agent.html"><span class="doc">User Agent Library</span></a> didn’t load the <em>config/user_agents.php</em> file when there’s no <code class="docutils literal"><span class="pre">User-Agent</span></code> HTTP request header.</li>
<li>Fixed a bug (#4713) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> methods <code class="docutils literal"><span class="pre">insert_batch()</span></code>, <code class="docutils literal"><span class="pre">update_batch()</span></code> could return wrong affected rows count.</li>
<li>Fixed a bug (#4712) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> doesn’t sent <code class="docutils literal"><span class="pre">RSET</span></code> to SMTP servers after a failure and while using keep-alive.</li>
<li>Fixed a bug (#4724) - <a class="reference internal" href="general/common_functions.html"><span class="doc">Common function</span></a> <a class="reference internal" href="general/common_functions.html#is_https" title="is_https"><code class="xref php php-func docutils literal"><span class="pre">is_https()</span></code></a> compared the <code class="docutils literal"><span class="pre">X-Forwarded-Proto</span></code> HTTP header case-sensitively.</li>
<li>Fixed a bug (#4725) - <a class="reference internal" href="general/common_functions.html"><span class="doc">Common function</span></a> <a class="reference internal" href="general/common_functions.html#remove_invisible_characters" title="remove_invisible_characters"><code class="xref php php-func docutils literal"><span class="pre">remove_invisible_characters()</span></code></a> searched case-sensitively for URL-encoded characters.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-6">
<h2>Version 3.0.6<a class="headerlink" href="#version-3-0-6" title="Permalink to this headline">¶</a></h2>
<p>Release Date: March 21, 2016</p>
<ul class="simple">
<li>General Changes<ul>
<li>Added a destructor to <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> ‘memcached’ driver to ensure that Memcache(d) connections are properly closed.</li>
<li>Deprecated <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> method <code class="docutils literal"><span class="pre">prep_for_form()</span></code>.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0-6">
<h3>Bug fixes for 3.0.6<a class="headerlink" href="#bug-fixes-for-3-0-6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#4516) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> always accepted empty array inputs.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> allowed accessing <code class="docutils literal"><span class="pre">$_SESSION</span></code> values as class properties but <code class="docutils literal"><span class="pre">isset()</span></code> didn’t work on them.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> modified the <code class="docutils literal"><span class="pre">$_POST</span></code> array when the data being validated was actually provided via <code class="docutils literal"><span class="pre">set_data()</span></code>.</li>
<li>Fixed a bug (#4539) - <a class="reference internal" href="libraries/migration.html"><span class="doc">Migration Library</span></a> applied migrations before validating that all migrations within the requested version range are valid.</li>
<li>Fixed a bug (#4539) - <a class="reference internal" href="libraries/migration.html"><span class="doc">Migration Library</span></a> triggered failures for migrations that are out of the requested version range.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-5">
<h2>Version 3.0.5<a class="headerlink" href="#version-3-0-5" title="Permalink to this headline">¶</a></h2>
<p>Release Date: March 11, 2016</p>
<ul class="simple">
<li>Core<ul>
<li>Changed <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> to allow <code class="docutils literal"><span class="pre">$autoload['drivers']</span></code> assigning with custom property names.</li>
<li>Changed <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> to ignore variables prefixed with ‘_ci_’ when loading views.</li>
</ul>
</li>
<li>General Changes<ul>
<li>Updated the <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> to produce friendlier error messages on failures with drivers other than ‘files’.</li>
</ul>
</li>
<li><a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a><ul>
<li>Added a <code class="docutils literal"><span class="pre">$batch_size</span></code> parameter to the <code class="docutils literal"><span class="pre">insert_batch()</span></code> method (defaults to 100).</li>
<li>Added a <code class="docutils literal"><span class="pre">$batch_size</span></code> parameter to the <code class="docutils literal"><span class="pre">update_batch()</span></code> method (defaults to 100).</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0-5">
<h3>Bug fixes for 3.0.5<a class="headerlink" href="#bug-fixes-for-3-0-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#4391) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> method <code class="docutils literal"><span class="pre">reply_to()</span></code> didn’t apply Q-encoding.</li>
<li>Fixed a bug (#4384) - <a class="reference internal" href="libraries/pagination.html"><span class="doc">Pagination Library</span></a> ignored (possible) <em>cur_page</em> configuration value.</li>
<li>Fixed a bug (#4395) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">count_all_results()</span></code> still fails if an <code class="docutils literal"><span class="pre">ORDER</span> <span class="pre">BY</span></code> condition is used.</li>
<li>Fixed a bug (#4399) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> methods <code class="docutils literal"><span class="pre">insert_batch()</span></code>, <code class="docutils literal"><span class="pre">update_batch()</span></code> produced confusing error messages when called with no data and <em>db_debug</em> is enabled.</li>
<li>Fixed a bug (#4401) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> breaks <code class="docutils literal"><span class="pre">WHERE</span></code> and <code class="docutils literal"><span class="pre">HAVING</span></code> conditions that use <code class="docutils literal"><span class="pre">IN()</span></code> with strings containing a closing parenthesis.</li>
<li>Fixed a regression in <a class="reference internal" href="helpers/form_helper.html"><span class="doc">Form Helper</span></a> functions <a class="reference internal" href="helpers/form_helper.html#set_checkbox" title="set_checkbox"><code class="xref php php-func docutils literal"><span class="pre">set_checkbox()</span></code></a>, <a class="reference internal" href="helpers/form_helper.html#set_radio" title="set_radio"><code class="xref php php-func docutils literal"><span class="pre">set_radio()</span></code></a> where “checked” inputs aren’t recognized after a form submit.</li>
<li>Fixed a bug (#4407) - <a class="reference internal" href="helpers/text_helper.html"><span class="doc">Text Helper</span></a> function <a class="reference internal" href="helpers/text_helper.html#word_censor" title="word_censor"><code class="xref php php-func docutils literal"><span class="pre">word_censor()</span></code></a> doesn’t work under PHP 7 if there’s no custom replacement provided.</li>
<li>Fixed a bug (#4415) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> rule <strong>valid_url</strong> didn’t accept URLs with IPv6 addresses enclosed in square brackets under PHP 5 (upstream bug).</li>
<li>Fixed a bug (#4427) - <a class="reference internal" href="helpers/captcha_helper.html"><span class="doc">CAPTCHA Helper</span></a> triggers an error if the provided character pool is too small.</li>
<li>Fixed a bug (#4430) - <a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> option <strong>file_ext_tolower</strong> didn’t work.</li>
<li>Fixed a bug (#4431) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">join()</span></code> discarded opening parentheses.</li>
<li>Fixed a bug (#4424) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> triggered a PHP warning when writing a newly created session with the ‘redis’ driver.</li>
<li>Fixed a bug (#4437) - <a class="reference internal" href="helpers/inflector_helper.html"><span class="doc">Inflector Helper</span></a> function <a class="reference internal" href="helpers/inflector_helper.html#humanize" title="humanize"><code class="xref php php-func docutils literal"><span class="pre">humanize()</span></code></a> didn’t escape its <code class="docutils literal"><span class="pre">$separator</span></code> parameter while using it in a regular expression.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> didn’t properly handle its locks’ statuses with the ‘memcached’ driver.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> triggered a PHP warning when writing a newly created session with the ‘memcached’ driver.</li>
<li>Fixed a bug (#4449) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">join()</span></code> breaks conditions containing <code class="docutils literal"><span class="pre">IS</span> <span class="pre">NULL</span></code>, <code class="docutils literal"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code>.</li>
<li>Fixed a bug (#4491) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> didn’t clean-up internal variables for emulated locks with the ‘redis’ driver.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> didn’t clean-up internal variables for emulated locks with the ‘memcached’ driver.</li>
<li>Fixed a bug where <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> transactions didn’t work with the ‘ibase’ driver.</li>
<li>Fixed a bug (#4475) - <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">strip_image_tags()</span></code> preserves only the first URL character from non-quoted <em>src</em> attributes.</li>
<li>Fixed a bug where <a class="reference internal" href="general/profiling.html"><span class="doc">Profiler Library</span></a> didn’t apply <code class="docutils literal"><span class="pre">htmlspecialchars()</span></code> to all displayed inputs.</li>
<li>Fixed a bug (#4277) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> triggered fatal errors if accessing the Memcache(d) and/or Redis driver and they are not available on the system.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> method <code class="docutils literal"><span class="pre">is_supported()</span></code> logged an error message when it returns <code class="docutils literal"><span class="pre">FALSE</span></code> for the APC and Wincache drivers.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-4">
<h2>Version 3.0.4<a class="headerlink" href="#version-3-0-4" title="Permalink to this headline">¶</a></h2>
<p>Release Date: January 13, 2016</p>
<ul class="simple">
<li>General Changes<ul>
<li>Updated <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">get_random_bytes()</span></code> to use PHP 7’s <code class="docutils literal"><span class="pre">random_bytes()</span></code> function when possible.</li>
<li>Updated <a class="reference internal" href="libraries/security.html"><span class="doc">Encryption Library</span></a> method <code class="docutils literal"><span class="pre">create_key()</span></code> to use PHP 7’s <code class="docutils literal"><span class="pre">random_bytes()</span></code> function when possible.</li>
</ul>
</li>
<li><a class="reference internal" href="database/index.html"><span class="doc">Database</span></a><ul>
<li>Added support for <code class="docutils literal"><span class="pre">OFFSET-FETCH</span></code> with Oracle 12c for the ‘oci8’ and ‘pdo/oci’ drivers.</li>
<li>Added support for the new <code class="docutils literal"><span class="pre">MYSQLI_CLIENT_SSL_DONT_VERIFY_SERVER_CERT</span></code> constant from <a class="reference external" href="https://secure.php.net/ChangeLog-5.php#5.6.16">PHP 5.6.16</a> for the ‘mysqli’ driver.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0-4">
<h3>Bug fixes for 3.0.4<a class="headerlink" href="#bug-fixes-for-3-0-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#4212) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> method <code class="docutils literal"><span class="pre">count_all_results()</span></code> could fail if an <code class="docutils literal"><span class="pre">ORDER</span> <span class="pre">BY</span></code> condition is used.</li>
<li>Fixed a bug where <a class="reference internal" href="helpers/form_helper.html"><span class="doc">Form Helper</span></a> functions <a class="reference internal" href="helpers/form_helper.html#set_checkbox" title="set_checkbox"><code class="xref php php-func docutils literal"><span class="pre">set_checkbox()</span></code></a>, <a class="reference internal" href="helpers/form_helper.html#set_radio" title="set_radio"><code class="xref php php-func docutils literal"><span class="pre">set_radio()</span></code></a> didn’t “uncheck” inputs on a submitted form if the default state is “checked”.</li>
<li>Fixed a bug (#4217) - <a class="reference internal" href="libraries/config.html"><span class="doc">Config Library</span></a> method <code class="docutils literal"><span class="pre">base_url()</span></code> didn’t use proper formatting for IPv6 when it falls back to <code class="docutils literal"><span class="pre">$_SERVER['SERVER_ADDR']</span></code>.</li>
<li>Fixed a bug where <a class="reference internal" href="helpers/captcha_helper.html"><span class="doc">CAPTCHA Helper</span></a> entered an infinite loop while generating a random string.</li>
<li>Fixed a bug (#4223) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">simple_query()</span></code> blindly executes queries without checking if the connection was initialized properly.</li>
<li>Fixed a bug (#4244) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> could improperly use “unsafe” US-ASCII characters during Quoted-printable encoding.</li>
<li>Fixed a bug (#4245) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> couldn’t properly handle <code class="docutils literal"><span class="pre">SET</span></code> and <code class="docutils literal"><span class="pre">ENUM</span></code> type fields with string values.</li>
<li>Fixed a bug (#4283) - <a class="reference internal" href="helpers/string_helper.html"><span class="doc">String Helper</span></a> function <a class="reference internal" href="helpers/string_helper.html#alternator" title="alternator"><code class="xref php php-func docutils literal"><span class="pre">alternator()</span></code></a> couldn’t be called without arguments.</li>
<li>Fixed a bug (#4306) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">version()</span></code> didn’t work properly with the ‘mssql’ driver.</li>
<li>Fixed a bug (#4039) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> could generate multiple (redundant) warnings in case of a read failure with the ‘files’ driver, due to a bug in PHP.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> didn’t have proper error handling on PHP 5 (due to a PHP bug).</li>
<li>Fixed a bug (#4312) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> didn’t provide error feedback for failed validation on empty requests.</li>
<li>Fixed a bug where <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <cite>version()</cite> returned banner text instead of only the version number with the ‘oci8’ and ‘pdo/oci’ drivers.</li>
<li>Fixed a bug (#4331) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">error()</span></code> didn’t really work for connection errors with the ‘mysqli’ driver.</li>
<li>Fixed a bug (#4343) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> failing with a <em>“More than one ‘from’ person”</em> message when using <em>sendmail</em>.</li>
<li>Fixed a bug (#4350) - <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> method <code class="docutils literal"><span class="pre">model()</span></code> logic directly instantiated the <code class="docutils literal"><span class="pre">CI_Model</span></code> or <code class="docutils literal"><span class="pre">MY_Model</span></code> classes.</li>
<li>Fixed a bug (#4337) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">query()</span></code> didn’t return a result set for queries with the <code class="docutils literal"><span class="pre">RETURNING</span></code> statement on PostgreSQL.</li>
<li>Fixed a bug (#4362) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> doesn’t properly maintain its state after ID regeneration with the ‘redis’ and ‘memcached’ drivers on PHP 7.</li>
<li>Fixed a bug (#4349) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> drivers ‘mysql’, ‘mysqli’, ‘pdo/mysql’ discard other <code class="docutils literal"><span class="pre">sql_mode</span></code> flags when “stricton” is enabled.</li>
<li>Fixed a bug (#4349) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> drivers ‘mysql’, ‘mysqli’, ‘pdo/mysql’ don’t turn off <code class="docutils literal"><span class="pre">STRICT_TRANS_TABLES</span></code> on MySQL 5.7+ when “stricton” is disabled.</li>
<li>Fixed a bug (#4374) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> with the ‘database’ driver could be affected by userspace <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> conditions.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-3">
<h2>Version 3.0.3<a class="headerlink" href="#version-3-0-3" title="Permalink to this headline">¶</a></h2>
<p>Release Date: October 31, 2015</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed an XSS attack vector in <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">xss_clean()</span></code>.</li>
<li>Changed <a class="reference internal" href="libraries/config.html"><span class="doc">Config Library</span></a> method <code class="docutils literal"><span class="pre">base_url()</span></code> to fallback to <code class="docutils literal"><span class="pre">$_SERVER['SERVER_ADDR']</span></code> when <code class="docutils literal"><span class="pre">$config['base_url']</span></code> is empty in order to avoid <em>Host</em> header injections.</li>
<li>Changed <a class="reference internal" href="helpers/captcha_helper.html"><span class="doc">CAPTCHA Helper</span></a> to use the operating system’s PRNG when possible.</li>
</ul>
</li>
<li><a class="reference internal" href="database/index.html"><span class="doc">Database</span></a><ul>
<li>Optimized <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utility</span></a> method <code class="docutils literal"><span class="pre">csv_from_result()</span></code> for speed with larger result sets.</li>
<li>Added proper return values to <a class="reference internal" href="database/transactions.html"><span class="doc">Database Transactions</span></a> method <code class="docutils literal"><span class="pre">trans_start()</span></code>.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0-3">
<h3>Bug fixes for 3.0.3<a class="headerlink" href="#bug-fixes-for-3-0-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#4170) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">insert_id()</span></code> could return an identity from the wrong scope with the ‘sqlsrv’ driver.</li>
<li>Fixed a bug (#4179) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> doesn’t properly maintain its state after ID regeneration with the ‘database’ driver on PHP 7.</li>
<li>Fixed a bug (#4173) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> method <code class="docutils literal"><span class="pre">add_key()</span></code> didn’t allow creation of non-PRIMARY composite keys after the “bugfix” for #3968.</li>
<li>Fixed a bug (#4171) - <a class="reference internal" href="database/transactions.html"><span class="doc">Database Transactions</span></a> didn’t work with nesting in methods <code class="docutils literal"><span class="pre">trans_begin()</span></code>, <code class="docutils literal"><span class="pre">trans_commit()</span></code>, <code class="docutils literal"><span class="pre">trans_rollback()</span></code>.</li>
<li>Fixed a bug where <a class="reference internal" href="database/transactions.html"><span class="doc">Database Transaction</span></a> methods <code class="docutils literal"><span class="pre">trans_begin()</span></code>, <code class="docutils literal"><span class="pre">trans_commit()</span></code>, <code class="docutils literal"><span class="pre">trans_rollback()</span></code> ignored failures.</li>
<li>Fixed a bug where all <a class="reference internal" href="database/transactions.html"><span class="doc">Database Transaction</span></a> methods returned TRUE while transactions are actually disabled.</li>
<li>Fixed a bug where <a class="reference internal" href="general/common_functions.html"><span class="doc">common function</span></a> <a class="reference internal" href="general/common_functions.html#html_escape" title="html_escape"><code class="xref php php-func docutils literal"><span class="pre">html_escape()</span></code></a> modified keys of its array inputs.</li>
<li>Fixed a bug (#4192) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> wouldn’t always have proper Quoted-printable encoding due to a bug in PHP’s own <code class="docutils literal"><span class="pre">mb_mime_encodeheader()</span></code> function.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-2">
<h2>Version 3.0.2<a class="headerlink" href="#version-3-0-2" title="Permalink to this headline">¶</a></h2>
<p>Release Date: October 8, 2015</p>
<ul class="simple">
<li><strong>Security</strong><ul>
<li>Fixed a number of XSS attack vectors in <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> method <code class="docutils literal"><span class="pre">xss_clean()</span></code>  (thanks to Frans Rosén from <a class="reference external" href="https://detectify.com/">Detectify</a>).</li>
</ul>
</li>
<li>General Changes<ul>
<li>Updated the <em>application/config/constants.php</em> file to check if constants aren’t already defined before doing that.</li>
<li>Changed <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> method <code class="docutils literal"><span class="pre">model()</span></code> to only apply <code class="docutils literal"><span class="pre">ucfirst()</span></code> and not <code class="docutils literal"><span class="pre">strtolower()</span></code> to the requested class name.</li>
<li>Changed <a class="reference internal" href="libraries/config.html"><span class="doc">Config Library</span></a> methods <code class="docutils literal"><span class="pre">base_url()</span></code>, <code class="docutils literal"><span class="pre">site_url()</span></code> to allow protocol-relative URLs by passing an empty string as the protocol.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0-2">
<h3>Bug fixes for 3.0.2<a class="headerlink" href="#bug-fixes-for-3-0-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#2284) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">protect_identifiers()</span></code> breaks when <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> isn’t enabled.</li>
<li>Fixed a bug (#4052) - <a class="reference internal" href="general/routing.html"><span class="doc">Routing</span></a> with anonymous functions didn’t work for routes that don’t use regular expressions.</li>
<li>Fixed a bug (#4056) - <a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a> method <code class="docutils literal"><span class="pre">get_request_header()</span></code> could not return a value unless <code class="docutils literal"><span class="pre">request_headers()</span></code> was called beforehand.</li>
<li>Fixed a bug where the <a class="reference internal" href="database/index.html"><span class="doc">Database Class</span></a> entered an endless loop if it fails to connect with the ‘sqlsrv’ driver.</li>
<li>Fixed a bug (#4065) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">protect_identifiers()</span></code> treats a traling space as an alias separator if the input doesn’t contain ‘ AS ‘.</li>
<li>Fixed a bug (#4066) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> couldn’t fallback to a backup driver if the primary one is Memcache(d) or Redis.</li>
<li>Fixed a bug (#4073) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> method <code class="docutils literal"><span class="pre">send()</span></code> could return TRUE in case of an actual failure when an SMTP command fails.</li>
<li>Fixed a bug (#4086) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> didn’t apply <em>dbprefix</em> to LIKE conditions if the pattern included spaces.</li>
<li>Fixed a bug (#4091) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> ‘file’ driver could be tricked into accepting empty cache item IDs.</li>
<li>Fixed a bug (#4093) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> modified string values containing ‘AND’, ‘OR’ while compiling WHERE conditions.</li>
<li>Fixed a bug (#4096) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> didn’t apply <em>dbprefix</em> when compiling BETWEEN conditions.</li>
<li>Fixed a bug (#4105) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> didn’t allow pipe characters inside “bracket parameters” when using a string ruleset.</li>
<li>Fixed a bug (#4109) - <a class="reference internal" href="general/routing.html"><span class="doc">Routing</span></a> to <em>default_controller</em> didn’t work when <em>enable_query_strings</em> is set to TRUE.</li>
<li>Fixed a bug (#4044) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> ‘redis’ driver didn’t catch <code class="docutils literal"><span class="pre">RedisException</span></code> that could be thrown during authentication.</li>
<li>Fixed a bug (#4120) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">error()</span></code> didn’t return error info when called after <code class="docutils literal"><span class="pre">query()</span></code> with the ‘mssql’ driver.</li>
<li>Fixed a bug (#4116) - <a class="reference internal" href="libraries/pagination.html"><span class="doc">Pagination Library</span></a> set the wrong page number on the “data-ci-pagination-page” attribute in generated links.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/pagination.html"><span class="doc">Pagination Library</span></a> added the ‘rel=”start”’ attribute to the first displayed link even if it’s not actually linking the first page.</li>
<li>Fixed a bug (#4137) - <a class="reference internal" href="general/errors.html"><span class="doc">Error Handling</span></a> breaks for the new <code class="docutils literal"><span class="pre">Error</span></code> exceptions under PHP 7.</li>
<li>Fixed a bug (#4126) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> method <code class="docutils literal"><span class="pre">reset_validation()</span></code> discarded validation rules from config files.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-1">
<h2>Version 3.0.1<a class="headerlink" href="#version-3-0-1" title="Permalink to this headline">¶</a></h2>
<p>Release Date: August 7, 2015</p>
<ul class="simple">
<li>Core<ul>
<li>Added DoS mitigation to <a class="reference internal" href="general/compatibility_functions.html#hash_pbkdf2" title="hash_pbkdf2"><code class="xref php php-func docutils literal"><span class="pre">hash_pbkdf2()</span></code></a> <a class="reference internal" href="general/compatibility_functions.html"><span class="doc">compatibility function</span></a>.</li>
</ul>
</li>
<li>Database<ul>
<li>Added <code class="docutils literal"><span class="pre">list_fields()</span></code> support for SQLite (‘sqlite3’ and ‘pdo_sqlite’ drivers).</li>
<li>Added SSL connection support for the ‘mysqli’ and ‘pdo_mysql’ drivers.</li>
</ul>
</li>
<li>Libraries<ul>
<li><a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> changes:<ul>
<li>Changed method <code class="docutils literal"><span class="pre">set_error()</span></code> to accept a custom log level (defaults to ‘error’).</li>
<li>Errors “no_file_selected”, “file_partial”, “stopped_by_extension”, “no_file_types”, “invalid_filetype”, “bad_filename” are now logged at the ‘debug’ level.</li>
<li>Errors “file_exceeds_limit”, “file_exceeds_form_limit”, “invalid_filesize”, “invalid_dimensions” are now logged at the ‘info’ level.</li>
</ul>
</li>
<li>Added ‘is_resource’ to the available expectations in <a class="reference internal" href="libraries/unit_testing.html"><span class="doc">Unit Testing Library</span></a>.</li>
</ul>
</li>
<li>Helpers<ul>
<li>Added Unicode support to <a class="reference internal" href="helpers/url_helper.html"><span class="doc">URL Helper</span></a> function <a class="reference internal" href="helpers/url_helper.html#url_title" title="url_title"><code class="xref php php-func docutils literal"><span class="pre">url_title()</span></code></a>.</li>
<li>Added support for passing the “extra” parameter as an array to all <a class="reference internal" href="helpers/form_helper.html"><span class="doc">Form Helper</span></a> functions that use it.</li>
</ul>
</li>
<li>Core<ul>
<li>Added support for defining a list of specific query parameters in <code class="docutils literal"><span class="pre">$config['cache_query_string']</span></code> for the <a class="reference internal" href="libraries/output.html"><span class="doc">Output Library</span></a>.</li>
<li>Added class existence and inheritance checks to <code class="docutils literal"><span class="pre">CI_Loader::model()</span></code> in order to ease debugging in case of name collisions.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0-1">
<h3>Bug fixes for 3.0.1<a class="headerlink" href="#bug-fixes-for-3-0-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#3733) - Autoloading of libraries with aliases didn’t work, although it was advertised to.</li>
<li>Fixed a bug (#3744) - Redis <a class="reference internal" href="libraries/caching.html"><span class="doc">Caching</span></a> driver didn’t handle authentication failures properly.</li>
<li>Fixed a bug (#3761) - <a class="reference internal" href="helpers/url_helper.html"><span class="doc">URL Helper</span></a> function <a class="reference internal" href="helpers/url_helper.html#anchor" title="anchor"><code class="xref php php-func docutils literal"><span class="pre">anchor()</span></code></a> didn’t work with array inputs.</li>
<li>Fixed a bug (#3773) - <code class="docutils literal"><span class="pre">db_select()</span></code> didn’t work for MySQL with the PDO <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> driver.</li>
<li>Fixed a bug (#3771) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> was looking for a ‘form_validation_’ prefix when trying to translate field name labels.</li>
<li>Fixed a bug (#3787) - <a class="reference internal" href="libraries/ftp.html"><span class="doc">FTP Library</span></a> method <code class="docutils literal"><span class="pre">delete_dir()</span></code> failed when the target has subdirectories.</li>
<li>Fixed a bug (#3801) - <a class="reference internal" href="libraries/output.html"><span class="doc">Output Library</span></a> method <code class="docutils literal"><span class="pre">_display_cache()</span></code> incorrectly looked for the last modified time of a directory instead of the cache file.</li>
<li>Fixed a bug (#3816) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> treated empty string values as non-existing ones.</li>
<li>Fixed a bug (#3823) - <a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> drivers Redis and Memcached didn’t properly handle locks that are blocking the request for more than 30 seconds.</li>
<li>Fixed a bug (#3846) - <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> method <cite>image_mirror_gd()</cite> didn’t properly initialize its variables.</li>
<li>Fixed a bug (#3854) - <cite>field_data()</cite> didn’t work properly with the Oracle (OCI8) database driver.</li>
<li>Fixed a bug in the <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utility Class</span></a> method <code class="docutils literal"><span class="pre">csv_from_result()</span></code> didn’t work with a whitespace CSV delimiter.</li>
<li>Fixed a bug (#3890) - <a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a> method <code class="docutils literal"><span class="pre">get_request_header()</span></code> treated header names as case-sensitive.</li>
<li>Fixed a bug (#3903) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> ignored “unnamed” closure validation rules.</li>
<li>Fixed a bug (#3904) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> ignored “named” callback rules when the field is empty and there’s no ‘required’ rule.</li>
<li>Fixed a bug (#3922) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email</span></a> and <a class="reference internal" href="libraries/xmlrpc.html"><span class="doc">XML-RPC</span></a> libraries could enter an infinite loop due to <a class="reference external" href="https://bugs.php.net/bug.php?id=39598">PHP bug #39598</a>.</li>
<li>Fixed a bug (#3913) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> didn’t work with the direct <code class="docutils literal"><span class="pre">$this-&gt;cache-&gt;$driver_name-&gt;method()</span></code> syntax with Redis and Memcache(d).</li>
<li>Fixed a bug (#3932) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> didn’t properly compile WHERE and HAVING conditions for field names that end with “and”, “or”.</li>
<li>Fixed a bug in <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> where <code class="docutils literal"><span class="pre">delete()</span></code> didn’t properly work on multiple tables with a WHERE condition previously set via <code class="docutils literal"><span class="pre">where()</span></code>.</li>
<li>Fixed a bug (#3952) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">list_fields()</span></code> didn’t work with SQLite3.</li>
<li>Fixed a bug (#3955) - <a class="reference internal" href="libraries/caching.html"><span class="doc">Cache Library</span></a> methods <code class="docutils literal"><span class="pre">increment()</span></code> and <code class="docutils literal"><span class="pre">decrement()</span></code> ignored the ‘key_prefix’ setting.</li>
<li>Fixed a bug (#3963) - <a class="reference internal" href="libraries/unit_testing.html"><span class="doc">Unit Testing Library</span></a> wrongly tried to translate filenames, line numbers and notes values in test results.</li>
<li>Fixed a bug (#3965) - <a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> ignored the “encrypt_name” setting when “overwrite” is enabled.</li>
<li>Fixed a bug (#3968) - <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> method <code class="docutils literal"><span class="pre">add_key()</span></code> didn’t treat array inputs as composite keys unless it’s a PRIMARY KEY.</li>
<li>Fixed a bug (#3715) - <a class="reference internal" href="libraries/pagination.html"><span class="doc">Pagination Library</span></a> could generate broken link when a protocol-relative base URL is used.</li>
<li>Fixed a bug (#3828) - <a class="reference internal" href="libraries/output.html"><span class="doc">Output Library</span></a> method <code class="docutils literal"><span class="pre">delete_cache()</span></code> couldn’t delete index page caches.</li>
<li>Fixed a bug (#3704) - <a class="reference internal" href="database/index.html"><span class="doc">Database</span></a> method <code class="docutils literal"><span class="pre">stored_procedure()</span></code> in the ‘oci8’ driver didn’t properly bind parameters.</li>
<li>Fixed a bug (#3778) - <a class="reference internal" href="helpers/download_helper.html"><span class="doc">Download Helper</span></a> function <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><code class="xref php php-func docutils literal"><span class="pre">force_download()</span></code></a> incorrectly sent a <em>Pragma</em> response header.</li>
<li>Fixed a bug (#3752) - <code class="docutils literal"><span class="pre">$routing['directory']</span></code> overrides were not properly handled and always resulted in a 404 “Not Found” error.</li>
<li>Fixed a bug (#3279) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> methods <code class="docutils literal"><span class="pre">update()</span></code> and <code class="docutils literal"><span class="pre">get_compiled_update()</span></code> did double escaping on the table name if it was provided via <code class="docutils literal"><span class="pre">from()</span></code>.</li>
<li>Fixed a bug (#3991) - <code class="docutils literal"><span class="pre">$config['rewrite_short_tags']</span></code> never worked due to <code class="docutils literal"><span class="pre">function_exists('eval')</span></code> always returning FALSE.</li>
<li>Fixed a bug where the <a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> library will not properly configure its maximum file size unless the input value is of type integer.</li>
<li>Fixed a bug (#4000) - <a class="reference internal" href="libraries/pagination.html"><span class="doc">Pagination Library</span></a> didn’t enable “rel” attributes by default if no attributes-related config options were used.</li>
<li>Fixed a bug (#4004) - <a class="reference internal" href="libraries/uri.html"><span class="doc">URI Class</span></a> didn’t properly parse the request URI if it contains a colon followed by a digit.</li>
<li>Fixed a bug in <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> where the <code class="docutils literal"><span class="pre">$escape</span></code> parameter for some methods only affected field names.</li>
<li>Fixed a bug (#4012) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> methods <code class="docutils literal"><span class="pre">where_in()</span></code>, <code class="docutils literal"><span class="pre">or_where_in()</span></code>, <code class="docutils literal"><span class="pre">where_not_in()</span></code>, <code class="docutils literal"><span class="pre">or_where_not_in()</span></code> didn’t take into account previously cached WHERE conditions when query cache is in use.</li>
<li>Fixed a bug (#4015) - <a class="reference internal" href="libraries/email.html"><span class="doc">Email Library</span></a> method <code class="docutils literal"><span class="pre">set_header()</span></code> didn’t support method chaining, although it was advertised.</li>
<li>Fixed a bug (#4027) - <a class="reference internal" href="general/routing.html"><span class="doc">Routing</span></a> with HTTP verbs only worked if the route request method was declared in all-lowercase letters.</li>
<li>Fixed a bug (#4026) - <a class="reference internal" href="database/transactions.html"><span class="doc">Database Transactions</span></a> always rollback if any previous <code class="docutils literal"><span class="pre">query()</span></code> call fails.</li>
<li>Fixed a bug (#4023) - <a class="reference internal" href="helpers/string_helper.html"><span class="doc">String Helper</span></a> function <code class="docutils literal"><span class="pre">increment_string()</span></code> didn’t escape its <code class="docutils literal"><span class="pre">$separator</span></code> parameter.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-0">
<h2>Version 3.0.0<a class="headerlink" href="#version-3-0-0" title="Permalink to this headline">¶</a></h2>
<p>Release Date: March 30, 2015</p>
<ul class="simple">
<li>License<ul>
<li>CodeIgniter has been relicensed with the <a class="reference external" href="http://opensource.org/licenses/MIT">MIT License</a>, eliminating its old proprietary licensing.</li>
</ul>
</li>
<li>General Changes<ul>
<li>PHP 5.1.6 is no longer supported. CodeIgniter now requires PHP 5.2.4 and recommends PHP 5.4+ or newer to be used.</li>
<li>Changed filenaming convention (class file names now must be Ucfirst and everything else in lowercase).</li>
<li>Changed the default database driver to ‘mysqli’ (the old ‘mysql’ driver is DEPRECATED).</li>
<li><code class="docutils literal"><span class="pre">$_SERVER['CI_ENV']</span></code> can now be set to control the <code class="docutils literal"><span class="pre">ENVIRONMENT</span></code> constant.</li>
<li>Added an optional backtrace to php-error template.</li>
<li>Added Android to the list of user agents.</li>
<li>Added Windows 7, Windows 8, Windows 8.1, Android, Blackberry, iOS and PlayStation 3 to the list of user platforms.</li>
<li>Added Fennec (Firefox for mobile) to the list of mobile user agents.</li>
<li>Ability to log certain error types, not all under a threshold.</li>
<li>Added support for pem, p10, p12, p7a, p7c, p7m, p7r, p7s, crt, crl, der, kdb, rsa, cer, sst, csr Certs to mimes.php.</li>
<li>Added support for pgp, gpg, zsh and cdr files to mimes.php.</li>
<li>Added support for 3gp, 3g2, mp4, wmv, f4v, vlc Video files to mimes.php.</li>
<li>Added support for m4a, aac, m4u, xspf, au, ac3, flac, ogg, wma Audio files to mimes.php.</li>
<li>Added support for kmz and kml (Google Earth) files to mimes.php.</li>
<li>Added support for ics Calendar files to mimes.php.</li>
<li>Added support for rar, jar and 7zip archives to mimes.php.</li>
<li>Updated support for xml (‘application/xml’) and xsl (‘application/xml’, ‘text/xsl’) files in mimes.php.</li>
<li>Updated support for doc files in mimes.php.</li>
<li>Updated support for docx files in mimes.php.</li>
<li>Updated support for php files in mimes.php.</li>
<li>Updated support for zip files in mimes.php.</li>
<li>Updated support for csv files in mimes.php.</li>
<li>Added Romanian, Greek, Vietnamese and Cyrilic characters in <em>application/config/foreign_characters.php</em>.</li>
<li>Changed logger to only chmod when file is first created.</li>
<li>Removed previously deprecated SHA1 Library.</li>
<li>Removed previously deprecated use of <code class="docutils literal"><span class="pre">$autoload['core']</span></code> in <em>application/config/autoload.php</em>.
Only entries in <code class="docutils literal"><span class="pre">$autoload['libraries']</span></code> are auto-loaded now.</li>
<li>Removed previously deprecated EXT constant.</li>
<li>Updated all classes to be written in PHP 5 style, with visibility declarations and no <code class="docutils literal"><span class="pre">var</span></code> usage for properties.</li>
<li>Added an Exception handler.</li>
<li>Moved error templates to <em>application/views/errors/</em> and made the path configurable via <code class="docutils literal"><span class="pre">$config['error_views_path']</span></code>.</li>
<li>Added support non-HTML error templates for CLI applications.</li>
<li>Moved the Log class to <em>application/core/</em></li>
<li>Global config files are loaded first, then environment ones. Environment config keys overwrite base ones, allowing to only set the keys we want changed per environment.</li>
<li>Changed detection of <code class="docutils literal"><span class="pre">$view_folder</span></code> so that if it’s not found in the current path, it will now also be searched for under the application folder.</li>
<li>Path constants BASEPATH, APPPATH and VIEWPATH are now (internally) defined as absolute paths.</li>
<li>Updated email validation methods to use <code class="docutils literal"><span class="pre">filter_var()</span></code> instead of PCRE.</li>
<li>Changed environment defaults to report all errors in <em>development</em> and only fatal ones in <em>testing</em>, <em>production</em> but only display them in <em>development</em>.</li>
<li>Updated <em>ip_address</em> database field lengths from 16 to 45 for supporting IPv6 address on <a class="reference internal" href="libraries/trackback.html"><span class="doc">Trackback Library</span></a> and <a class="reference internal" href="helpers/captcha_helper.html"><span class="doc">Captcha Helper</span></a>.</li>
<li>Removed <em>cheatsheets</em> and <em>quick_reference</em> PDFs from the documentation.</li>
<li>Added availability checks where usage of dangerous functions like <code class="docutils literal"><span class="pre">eval()</span></code> and <code class="docutils literal"><span class="pre">exec()</span></code> is required.</li>
<li>Added support for changing the file extension of log files using <code class="docutils literal"><span class="pre">$config['log_file_extension']</span></code>.</li>
<li>Added support for turning newline standardization on/off via <code class="docutils literal"><span class="pre">$config['standardize_newlines']</span></code> and set it to FALSE by default.</li>
<li>Added configuration setting <code class="docutils literal"><span class="pre">$config['composer_autoload']</span></code> to enable loading of a <a class="reference external" href="https://getcomposer.org">Composer</a> auto-loader.</li>
<li>Removed the automatic conversion of ‘programmatic characters’ to HTML entities from the <a class="reference internal" href="libraries/uri.html"><span class="doc">URI Library</span></a>.</li>
<li>Changed log messages that say a class or file was loaded to “info” level instead of “debug”, so that they don’t pollute log files when <code class="docutils literal"><span class="pre">$config['log_threshold']</span></code> is set to 2 (debug).</li>
</ul>
</li>
<li>Helpers<ul>
<li><a class="reference internal" href="helpers/date_helper.html"><span class="doc">Date Helper</span></a> changes include:<ul>
<li>Added an optional third parameter to <a class="reference internal" href="helpers/date_helper.html#timespan" title="timespan"><code class="xref php php-func docutils literal"><span class="pre">timespan()</span></code></a> that constrains the number of time units displayed.</li>
<li>Added an optional parameter to <a class="reference internal" href="helpers/date_helper.html#timezone_menu" title="timezone_menu"><code class="xref php php-func docutils literal"><span class="pre">timezone_menu()</span></code></a> that allows more attributes to be added to the generated select tag.</li>
<li>Added function <a class="reference internal" href="helpers/date_helper.html#date_range" title="date_range"><code class="xref php php-func docutils literal"><span class="pre">date_range()</span></code></a> that generates a list of dates between a specified period.</li>
<li>Deprecated <code class="docutils literal"><span class="pre">standard_date()</span></code>, which now just uses the native <code class="docutils literal"><span class="pre">date()</span></code> with <a class="reference external" href="http://php.net/manual/en/class.datetime.php#datetime.constants.types">DateTime constants</a>.</li>
<li>Changed <a class="reference internal" href="helpers/date_helper.html#now" title="now"><code class="xref php php-func docutils literal"><span class="pre">now()</span></code></a> to work with all timezone strings supported by PHP.</li>
<li>Changed <a class="reference internal" href="helpers/date_helper.html#days_in_month" title="days_in_month"><code class="xref php php-func docutils literal"><span class="pre">days_in_month()</span></code></a> to use the native <code class="docutils literal"><span class="pre">cal_days_in_month()</span></code> PHP function, if available.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/url_helper.html"><span class="doc">URL Helper</span></a> changes include:<ul>
<li>Deprecated <em>separator</em> options <strong>dash</strong> and <strong>underscore</strong> for function <a class="reference internal" href="helpers/url_helper.html#url_title" title="url_title"><code class="xref php php-func docutils literal"><span class="pre">url_title()</span></code></a> (they are only aliases for ‘-‘ and ‘_’ respectively).</li>
<li><a class="reference internal" href="helpers/url_helper.html#url_title" title="url_title"><code class="xref php php-func docutils literal"><span class="pre">url_title()</span></code></a> will now trim extra dashes from beginning and end.</li>
<li><a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><code class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></code></a> will now fill the <em>href</em> attribute with the URL and its JS code will return FALSE instead.</li>
<li>Added JS window name support to the <a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><code class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></code></a> function.</li>
<li>Added support for menubar attribute to the <a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><code class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></code></a>.</li>
<li>Added support (auto-detection) for HTTP/1.1 response codes 303, 307 in <a class="reference internal" href="helpers/url_helper.html#redirect" title="redirect"><code class="xref php php-func docutils literal"><span class="pre">redirect()</span></code></a>.</li>
<li>Changed <a class="reference internal" href="helpers/url_helper.html#redirect" title="redirect"><code class="xref php php-func docutils literal"><span class="pre">redirect()</span></code></a> to choose the <strong>refresh</strong> method only on IIS servers, instead of all servers on Windows (when <strong>auto</strong> is used).</li>
<li>Changed <a class="reference internal" href="helpers/url_helper.html#anchor" title="anchor"><code class="xref php php-func docutils literal"><span class="pre">anchor()</span></code></a>, <a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><code class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></code></a>, and <a class="reference internal" href="helpers/url_helper.html#redirect" title="redirect"><code class="xref php php-func docutils literal"><span class="pre">redirect()</span></code></a> to support protocol-relative URLs (e.g. <em>//ellislab.com/codeigniter</em>).</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/html_helper.html"><span class="doc">HTML Helper</span></a> changes include:<ul>
<li>Added more doctypes.</li>
<li>Changed application and environment config files to be loaded in a cascade-like manner.</li>
<li>Changed <a class="reference internal" href="helpers/html_helper.html#doctype" title="doctype"><code class="xref php php-func docutils literal"><span class="pre">doctype()</span></code></a> to cache and only load once the doctypes array.</li>
<li>Deprecated functions <code class="docutils literal"><span class="pre">nbs()</span></code> and <code class="docutils literal"><span class="pre">br()</span></code>, which are just aliases for the native <code class="docutils literal"><span class="pre">str_repeat()</span></code> with <code class="docutils literal"><span class="pre">&amp;nbsp;</span></code> and <code class="docutils literal"><span class="pre">&lt;br</span> <span class="pre">/&gt;</span></code> respectively.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/inflector_helper.html"><span class="doc">Inflector Helper</span></a> changes include:<ul>
<li>Changed <a class="reference internal" href="helpers/inflector_helper.html#humanize" title="humanize"><code class="xref php php-func docutils literal"><span class="pre">humanize()</span></code></a> to allow passing an input separator as its second parameter.</li>
<li>Changed <a class="reference internal" href="helpers/inflector_helper.html#humanize" title="humanize"><code class="xref php php-func docutils literal"><span class="pre">humanize()</span></code></a> and <a class="reference internal" href="helpers/inflector_helper.html#underscore" title="underscore"><code class="xref php php-func docutils literal"><span class="pre">underscore()</span></code></a> to utilize <a class="reference external" href="http://php.net/mbstring">mbstring</a>, if available.</li>
<li>Changed <a class="reference internal" href="helpers/inflector_helper.html#plural" title="plural"><code class="xref php php-func docutils literal"><span class="pre">plural()</span></code></a> and <a class="reference internal" href="helpers/inflector_helper.html#singular" title="singular"><code class="xref php php-func docutils literal"><span class="pre">singular()</span></code></a> to avoid double pluralization and support more words.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/download_helper.html"><span class="doc">Download Helper</span></a> changes include:<ul>
<li>Added an optional third parameter to <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><code class="xref php php-func docutils literal"><span class="pre">force_download()</span></code></a> that enables/disables sending the actual file MIME type in the Content-Type header (disabled by default).</li>
<li>Added a work-around in <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><code class="xref php php-func docutils literal"><span class="pre">force_download()</span></code></a> for a bug Android &lt;= 2.1, where the filename extension needs to be in uppercase.</li>
<li>Added support for reading from an existing file path by passing NULL as the second parameter to <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><code class="xref php php-func docutils literal"><span class="pre">force_download()</span></code></a> (useful for large files and/or safely transmitting binary data).</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/form_helper.html"><span class="doc">Form Helper</span></a> changes include:<ul>
<li><a class="reference internal" href="helpers/form_helper.html#form_dropdown" title="form_dropdown"><code class="xref php php-func docutils literal"><span class="pre">form_dropdown()</span></code></a> will now also take an array for unity with other form helpers.</li>
<li><a class="reference internal" href="helpers/form_helper.html#form_prep" title="form_prep"><code class="xref php php-func docutils literal"><span class="pre">form_prep()</span></code></a> is now DEPRECATED and only acts as an alias for <a class="reference internal" href="general/common_functions.html"><span class="doc">common function</span></a> <a class="reference internal" href="general/common_functions.html#html_escape" title="html_escape"><code class="xref php php-func docutils literal"><span class="pre">html_escape()</span></code></a>.</li>
<li><a class="reference internal" href="helpers/form_helper.html#set_value" title="set_value"><code class="xref php php-func docutils literal"><span class="pre">set_value()</span></code></a> will now also accept a third argument, allowing to turn off HTML escaping of the value.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/security_helper.html"><span class="doc">Security Helper</span></a> changes include:<ul>
<li><a class="reference internal" href="helpers/security_helper.html#do_hash" title="do_hash"><code class="xref php php-func docutils literal"><span class="pre">do_hash()</span></code></a> now uses PHP’s native <code class="docutils literal"><span class="pre">hash()</span></code> function (supporting more algorithms) and is deprecated.</li>
<li><a class="reference internal" href="helpers/security_helper.html#strip_image_tags" title="strip_image_tags"><code class="xref php php-func docutils literal"><span class="pre">strip_image_tags()</span></code></a> is now an alias for the same method in the <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a>.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/smiley_helper.html"><span class="doc">Smiley Helper</span></a> changes include:<ul>
<li>Deprecated the whole helper as too specific for CodeIgniter.</li>
<li>Removed previously deprecated function <code class="docutils literal"><span class="pre">js_insert_smiley()</span></code>.</li>
<li>Changed application and environment config files to be loaded in a cascade-like manner.</li>
<li>The smileys array is now cached and loaded only once.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/file_helper.html"><span class="doc">File Helper</span></a> changes include:<ul>
<li><a class="reference internal" href="helpers/path_helper.html#set_realpath" title="set_realpath"><code class="xref php php-func docutils literal"><span class="pre">set_realpath()</span></code></a> can now also handle file paths as opposed to just directories.</li>
<li>Added an optional paramater to <a class="reference internal" href="helpers/file_helper.html#delete_files" title="delete_files"><code class="xref php php-func docutils literal"><span class="pre">delete_files()</span></code></a> to enable it to skip deleting files such as <em>.htaccess</em> and <em>index.html</em>.</li>
<li>Deprecated function <code class="docutils literal"><span class="pre">read_file()</span></code> - it’s just an alias for PHP’s native <code class="docutils literal"><span class="pre">file_get_contents()</span></code>.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/string_helper.html"><span class="doc">String Helper</span></a> changes include:<ul>
<li>Deprecated function <code class="docutils literal"><span class="pre">repeater()</span></code> - it’s just an alias for PHP’s native <code class="docutils literal"><span class="pre">str_repeat()</span></code>.</li>
<li>Deprecated function <code class="docutils literal"><span class="pre">trim_slashes()</span></code> - it’s just an alias for PHP’s native <code class="docutils literal"><span class="pre">trim()</span></code> (with a slash as its second argument).</li>
<li>Deprecated randomization type options <strong>unique</strong> and <strong>encrypt</strong> for funcion <a class="reference internal" href="helpers/string_helper.html#random_string" title="random_string"><code class="xref php php-func docutils literal"><span class="pre">random_string()</span></code></a> (they are only aliases for <strong>md5</strong> and <strong>sha1</strong> respectively).</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/captcha_helper.html"><span class="doc">CAPTCHA Helper</span></a> changes include:<ul>
<li>Added <em>word_length</em> and <em>pool</em> options to allow customization of the generated word.</li>
<li>Added <em>colors</em> configuration to allow customization for the <em>background</em>, <em>border</em>, <em>text</em> and <em>grid</em> colors.</li>
<li>Added <em>filename</em> to the returned array elements.</li>
<li>Updated to use <cite>imagepng()</cite> in case that <cite>imagejpeg()</cite> isn’t available.</li>
<li>Added <strong>font_size</strong> option to allow customization of font size.</li>
<li>Added <strong>img_id</strong> option to set id attribute of captcha image.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/text_helper.html"><span class="doc">Text Helper</span></a> changes include:<ul>
<li>Changed the default tag for use in <a class="reference internal" href="helpers/text_helper.html#highlight_phrase" title="highlight_phrase"><code class="xref php php-func docutils literal"><span class="pre">highlight_phrase()</span></code></a> to <code class="docutils literal"><span class="pre">&lt;mark&gt;</span></code> (formerly <code class="docutils literal"><span class="pre">&lt;strong&gt;</span></code>).</li>
<li>Changed <a class="reference internal" href="helpers/text_helper.html#character_limiter" title="character_limiter"><code class="xref php php-func docutils literal"><span class="pre">character_limiter()</span></code></a>, <a class="reference internal" href="helpers/text_helper.html#word_wrap" title="word_wrap"><code class="xref php php-func docutils literal"><span class="pre">word_wrap()</span></code></a> and <a class="reference internal" href="helpers/text_helper.html#ellipsize" title="ellipsize"><code class="xref php php-func docutils literal"><span class="pre">ellipsize()</span></code></a> to utilize <a class="reference external" href="http://php.net/mbstring">mbstring</a> or <a class="reference external" href="http://php.net/iconv">iconv</a>, if available.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/directory_helper.html"><span class="doc">Directory Helper</span></a> <a class="reference internal" href="helpers/directory_helper.html#directory_map" title="directory_map"><code class="xref php php-func docutils literal"><span class="pre">directory_map()</span></code></a> will now append <code class="docutils literal"><span class="pre">DIRECTORY_SEPARATOR</span></code> to directory names in the returned array.</li>
<li><a class="reference internal" href="helpers/array_helper.html"><span class="doc">Array Helper</span></a> <a class="reference internal" href="helpers/array_helper.html#element" title="element"><code class="xref php php-func docutils literal"><span class="pre">element()</span></code></a> and <a class="reference internal" href="helpers/array_helper.html#elements" title="elements"><code class="xref php php-func docutils literal"><span class="pre">elements()</span></code></a> now return NULL instead of FALSE when the required elements don’t exist.</li>
<li><a class="reference internal" href="helpers/language_helper.html"><span class="doc">Language Helper</span></a> <a class="reference internal" href="helpers/language_helper.html#lang" title="lang"><code class="xref php php-func docutils literal"><span class="pre">lang()</span></code></a> now accepts an optional list of additional HTML attributes.</li>
<li>Deprecated the <a class="reference internal" href="helpers/email_helper.html"><span class="doc">Email Helper</span></a> as its <code class="docutils literal"><span class="pre">valid_email()</span></code>, <code class="docutils literal"><span class="pre">send_email()</span></code> functions are now only aliases for PHP native functions <code class="docutils literal"><span class="pre">filter_var()</span></code> and <code class="docutils literal"><span class="pre">mail()</span></code> respectively.</li>
</ul>
</li>
<li>Database<ul>
<li>DEPRECATED the ‘mysql’, ‘sqlite’, ‘mssql’ and ‘pdo/dblib’ (also known as ‘pdo/mssql’ or ‘pdo/sybase’) drivers.</li>
<li>Added <strong>dsn</strong> configuration setting for drivers that support DSN strings (PDO, PostgreSQL, Oracle, ODBC, CUBRID).</li>
<li>Added <strong>schema</strong> configuration setting (defaults to <em>public</em>) for drivers that might need it (currently used by PostgreSQL and ODBC).</li>
<li>Added <strong>save_queries</strong> configuration setting to <em>application/config/database.php</em> (defaults to <code class="docutils literal"><span class="pre">TRUE</span></code>).</li>
<li>Removed <strong>autoinit</strong> configuration setting as it doesn’t make sense to instantiate the database class but not connect to the database.</li>
<li>Added subdrivers support (currently only used by PDO).</li>
<li>Added an optional database name parameter to <code class="docutils literal"><span class="pre">db_select()</span></code>.</li>
<li>Removed <code class="docutils literal"><span class="pre">protect_identifiers()</span></code> and renamed internal method <code class="docutils literal"><span class="pre">_protect_identifiers()</span></code> to it instead - it was just an alias.</li>
<li>Renamed internal method <code class="docutils literal"><span class="pre">_escape_identifiers()</span></code> to <code class="docutils literal"><span class="pre">escape_identifiers()</span></code>.</li>
<li>Updated <code class="docutils literal"><span class="pre">escape_identifiers()</span></code> to accept an array of fields as well as strings.</li>
<li>MySQL and MySQLi drivers now require at least MySQL version 5.1.</li>
<li>Added a <code class="docutils literal"><span class="pre">$persistent</span></code> parameter to <code class="docutils literal"><span class="pre">db_connect()</span></code> and changed <code class="docutils literal"><span class="pre">db_pconnect()</span></code> to be an alias for <code class="docutils literal"><span class="pre">db_connect(TRUE)</span></code>.</li>
<li><code class="docutils literal"><span class="pre">db_set_charset()</span></code> now only requires one parameter (collation was only needed due to legacy support for MySQL versions prior to 5.1).</li>
<li><code class="docutils literal"><span class="pre">db_select()</span></code> will now always (if required by the driver) be called by <code class="docutils literal"><span class="pre">db_connect()</span></code> instead of only when initializing.</li>
<li>Replaced the <code class="docutils literal"><span class="pre">_error_message()</span></code> and <code class="docutils literal"><span class="pre">_error_number()</span></code> methods with <code class="docutils literal"><span class="pre">error()</span></code>, which returns an array containing the last database error code and message.</li>
<li>Improved <code class="docutils literal"><span class="pre">version()</span></code> implementation so that drivers that have a native function to get the version number don’t have to be defined in the core <code class="docutils literal"><span class="pre">DB_driver</span></code> class.</li>
<li>Added capability for packages to hold <em>config/database.php</em> config files.</li>
<li>Added MySQL client compression support.</li>
<li>Added encrypted connections support (for <em>mysql</em>, <em>sqlsrv</em> and PDO with <em>sqlsrv</em>).</li>
<li>Removed <a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Class</span></a> from Database error tracing to better find the likely culprit.</li>
<li>Added support for SQLite3 database driver.</li>
<li>Added Interbase/Firebird database support via the <em>ibase</em> driver.</li>
<li>Added ODBC support for <code class="docutils literal"><span class="pre">create_database()</span></code>, <code class="docutils literal"><span class="pre">drop_database()</span></code> and <code class="docutils literal"><span class="pre">drop_table()</span></code> in <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a>.</li>
<li>Added support to binding arrays as <code class="docutils literal"><span class="pre">IN()</span></code> sets in <code class="docutils literal"><span class="pre">query()</span></code>.</li>
<li><a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> changes include:<ul>
<li>Renamed the Active Record class to Query Builder to remove confusion with the Active Record design pattern.</li>
<li>Added the ability to insert objects with <code class="docutils literal"><span class="pre">insert_batch()</span></code>.</li>
<li>Added new methods that return the SQL string of queries without executing them: <code class="docutils literal"><span class="pre">get_compiled_select()</span></code>, <code class="docutils literal"><span class="pre">get_compiled_insert()</span></code>, <code class="docutils literal"><span class="pre">get_compiled_update()</span></code>, <code class="docutils literal"><span class="pre">get_compiled_delete()</span></code>.</li>
<li>Added an optional parameter that allows to disable escaping (useful for custom fields) for methods <code class="docutils literal"><span class="pre">join()</span></code>, <code class="docutils literal"><span class="pre">order_by()</span></code>, <code class="docutils literal"><span class="pre">where_in()</span></code>, <code class="docutils literal"><span class="pre">or_where_in()</span></code>, <code class="docutils literal"><span class="pre">where_not_in()</span></code>, <code class="docutils literal"><span class="pre">or_where_not_in()</span></code>, <code class="docutils literal"><span class="pre">insert()</span></code>, <code class="docutils literal"><span class="pre">insert_batch()</span></code>.</li>
<li>Added support for <code class="docutils literal"><span class="pre">join()</span></code> with multiple conditions.</li>
<li>Added support for <em>USING</em> in <code class="docutils literal"><span class="pre">join()</span></code>.</li>
<li>Added support for <em>EXISTS</em> in <code class="docutils literal"><span class="pre">where()</span></code>.</li>
<li>Added seed values support for random ordering with <code class="docutils literal"><span class="pre">order_by(seed,</span> <span class="pre">'RANDOM')</span></code>.</li>
<li>Changed <code class="docutils literal"><span class="pre">limit()</span></code> to ignore NULL values instead of always casting to integer.</li>
<li>Changed <code class="docutils literal"><span class="pre">offset()</span></code> to ignore empty values instead of always casting to integer.</li>
<li>Methods <code class="docutils literal"><span class="pre">insert_batch()</span></code> and <code class="docutils literal"><span class="pre">update_batch()</span></code> now return an integer representing the number of rows affected by them.</li>
<li>Methods <code class="docutils literal"><span class="pre">where()</span></code>, <code class="docutils literal"><span class="pre">or_where()</span></code>, <code class="docutils literal"><span class="pre">having()</span></code> and <code class="docutils literal"><span class="pre">or_having()</span></code> now convert trailing  <code class="docutils literal"><span class="pre">=</span></code> and <code class="docutils literal"><span class="pre">&lt;&gt;</span></code>,  <code class="docutils literal"><span class="pre">!=</span></code> SQL operators to <code class="docutils literal"><span class="pre">IS</span> <span class="pre">NULL</span></code> and <code class="docutils literal"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code> respectively when the supplied comparison value is <code class="docutils literal"><span class="pre">NULL</span></code>.</li>
<li>Added method chaining support to <code class="docutils literal"><span class="pre">reset_query()</span></code>, <code class="docutils literal"><span class="pre">start_cache()</span></code>, <code class="docutils literal"><span class="pre">stop_cache()</span></code> and <code class="docutils literal"><span class="pre">flush_cache()</span></code>.</li>
<li>Added an optional second parameter to <code class="docutils literal"><span class="pre">count_all_results()</span></code> to disable resetting of QB values.</li>
</ul>
</li>
<li><a class="reference internal" href="database/results.html"><span class="doc">Database Results</span></a> changes include:<ul>
<li>Added a constructor to the <code class="docutils literal"><span class="pre">DB_result</span></code> class and moved all driver-specific properties and logic out of the base <code class="docutils literal"><span class="pre">DB_driver</span></code> class to allow better abstraction.</li>
<li>Added method <code class="docutils literal"><span class="pre">unbuffered_row()</span></code> for fetching a row without prefetching the whole result (consume less memory).</li>
<li>Renamed former method <code class="docutils literal"><span class="pre">_data_seek()</span></code> to <code class="docutils literal"><span class="pre">data_seek()</span></code> and made it public.</li>
</ul>
</li>
<li>Improved support for the MySQLi driver, including:<ul>
<li>OOP style usage of the PHP extension is now used, instead of the procedural aliases.</li>
<li>Server version checking is now done via <code class="docutils literal"><span class="pre">mysqli::$server_info</span></code> instead of running an SQL query.</li>
<li>Added persistent connections support for PHP &gt;= 5.3.</li>
<li>Added support for configuring socket pipe connections.</li>
<li>Added support for <code class="docutils literal"><span class="pre">backup()</span></code> in <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utilities</span></a>.</li>
<li>Changed methods <code class="docutils literal"><span class="pre">trans_begin()</span></code>, <code class="docutils literal"><span class="pre">trans_commit()</span></code> and <code class="docutils literal"><span class="pre">trans_rollback()</span></code> to use the PHP API instead of sending queries.</li>
</ul>
</li>
<li>Improved support of the PDO driver, including:<ul>
<li>Added support for <code class="docutils literal"><span class="pre">create_database()</span></code>, <code class="docutils literal"><span class="pre">drop_database()</span></code> and <code class="docutils literal"><span class="pre">drop_table()</span></code> in <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a>.</li>
<li>Added support for <code class="docutils literal"><span class="pre">list_fields()</span></code> in <a class="reference internal" href="database/results.html"><span class="doc">Database Results</span></a>.</li>
<li>Subdrivers are now isolated from each other instead of being in one large class.</li>
</ul>
</li>
<li>Improved support of the PostgreSQL driver, including:<ul>
<li><code class="docutils literal"><span class="pre">pg_version()</span></code> is now used to get the database version number, when possible.</li>
<li>Added <code class="docutils literal"><span class="pre">db_set_charset()</span></code> support.</li>
<li>Added support for <code class="docutils literal"><span class="pre">optimize_table()</span></code> in <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utilities</span></a> (rebuilds table indexes).</li>
<li>Added boolean data type support in <code class="docutils literal"><span class="pre">escape()</span></code>.</li>
<li>Added <code class="docutils literal"><span class="pre">update_batch()</span></code> support.</li>
<li>Removed <code class="docutils literal"><span class="pre">limit()</span></code> and <code class="docutils literal"><span class="pre">order_by()</span></code> support for <em>UPDATE</em> and <em>DELETE</em> queries as PostgreSQL does not support those features.</li>
<li>Added a work-around for dead persistent connections to be re-created after a database restart.</li>
<li>Changed <code class="docutils literal"><span class="pre">db_connect()</span></code> to include the (new) <strong>schema</strong> value into Postgre’s <strong>search_path</strong> session variable.</li>
<li><code class="docutils literal"><span class="pre">pg_escape_literal()</span></code> is now used for escaping strings, if available.</li>
</ul>
</li>
<li>Improved support of the CUBRID driver, including:<ul>
<li>Added DSN string support.</li>
<li>Added persistent connections support.</li>
<li>Improved <code class="docutils literal"><span class="pre">list_databases()</span></code> in <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utility</span></a> (until now only the currently used database was returned).</li>
</ul>
</li>
<li>Improved support of the MSSQL and SQLSRV drivers, including:<ul>
<li>Added random ordering support.</li>
<li>Added support for <code class="docutils literal"><span class="pre">optimize_table()</span></code> in <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utility</span></a>.</li>
<li>Added escaping with <em>QUOTE_IDENTIFIER</em> setting detection.</li>
<li>Added port handling support for UNIX-based systems (MSSQL driver).</li>
<li>Added <em>OFFSET</em> support for SQL Server 2005 and above.</li>
<li>Added <code class="docutils literal"><span class="pre">db_set_charset()</span></code> support (MSSQL driver).</li>
<li>Added a <em>scrollable</em> property to enable configuration of the cursor to use (SQLSRV driver).</li>
<li>Added support and auto-detection for the <code class="docutils literal"><span class="pre">SQLSRV_CURSOR_CLIENT_BUFFERED</span></code> scrollable cursor flag (SQLSRV driver).</li>
<li>Changed default behavior to not use <code class="docutils literal"><span class="pre">SQLSRV_CURSOR_STATIC</span></code> due to performance issues (SQLSRV driver).</li>
</ul>
</li>
<li>Improved support of the Oracle (OCI8) driver, including:<ul>
<li>Added DSN string support (Easy Connect and TNS).</li>
<li>Added support for <code class="docutils literal"><span class="pre">drop_table()</span></code> in <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a>.</li>
<li>Added support for <code class="docutils literal"><span class="pre">list_databases()</span></code> in <a class="reference internal" href="database/utilities.html"><span class="doc">Database Utilities</span></a>.</li>
<li>Generally improved for speed and cleaned up all of its components.</li>
<li><code class="docutils literal"><span class="pre">num_rows()</span></code> is now only called explicitly by the developer and no longer re-executes statements.</li>
</ul>
</li>
<li>Improved support of the SQLite driver, including:<ul>
<li>Added support for <code class="docutils literal"><span class="pre">replace()</span></code> in <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a>.</li>
<li>Added support for <code class="docutils literal"><span class="pre">drop_table()</span></code> in <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a>.</li>
</ul>
</li>
<li><a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> changes include:<ul>
<li>Added an optional second parameter to <code class="docutils literal"><span class="pre">drop_table()</span></code> that allows adding the <strong>IF EXISTS</strong> condition, which is no longer the default.</li>
<li>Added support for passing a custom database object to the loader.</li>
<li>Added support for passing custom table attributes (such as <code class="docutils literal"><span class="pre">ENGINE</span></code> for MySQL) to <code class="docutils literal"><span class="pre">create_table()</span></code>.</li>
<li>Added support for usage of the <em>FIRST</em> clause in <code class="docutils literal"><span class="pre">add_column()</span></code> for MySQL and CUBRID.</li>
<li>Added partial support for field comments (MySQL, PostgreSQL, Oracle).</li>
<li>Deprecated <code class="docutils literal"><span class="pre">add_column()</span></code>’s third method. <em>AFTER</em> clause should now be added to the field definition array instead.</li>
<li>Overall improved support for all of the drivers.</li>
</ul>
</li>
<li><a class="reference internal" href="database/utilities.html"><span class="doc">Database Utility</span></a> changes include:<ul>
<li>Added support for passing a custom database object to the loader.</li>
<li>Modified the class to no longer extend <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a>, which has been a deprecated behavior for awhile.</li>
<li>Overall improved support for all of the drivers.</li>
<li>Added <em>foreign_key_checks</em> option to MySQL/MySQLi backup, allowing statement to disable/re-enable foreign key checks to be inserted into the backup output.</li>
</ul>
</li>
</ul>
</li>
<li>Libraries<ul>
<li>Added a new <a class="reference internal" href="libraries/encryption.html"><span class="doc">Encryption Library</span></a> to replace the old, largely insecure <a class="reference internal" href="libraries/encrypt.html"><span class="doc">Encrypt Library</span></a>.</li>
<li><a class="reference internal" href="libraries/encrypt.html"><span class="doc">Encrypt Library</span></a> changes include:<ul>
<li>Deprecated the library in favor of the new <a class="reference internal" href="libraries/encryption.html"><span class="doc">Encryption Library</span></a>.</li>
<li>Added support for hashing algorithms other than SHA1 and MD5.</li>
<li>Removed previously deprecated <code class="docutils literal"><span class="pre">sha1()</span></code> method.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/sessions.html"><span class="doc">Session Library</span></a> changes include:<ul>
<li>Completely re-written the library to use self-contained drivers via <code class="docutils literal"><span class="pre">$config['sess_driver']</span></code>.</li>
<li>Added ‘files’, ‘database’, ‘redis’ and ‘memcached’ drivers (using ‘files’ by default).</li>
<li>Added <code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> setting to specify where the session data is stored, depending on the driver.</li>
<li>Dropped support for storing session data in cookies (which renders <code class="docutils literal"><span class="pre">$config['sess_encrypt_cookie']</span></code> useless and is therefore also removed).</li>
<li>Dropped official  support for storing session data in databases other than MySQL and PostgreSQL.</li>
<li>Changed table structure for the ‘database’ driver.</li>
<li>Added a new <strong>tempdata</strong> feature that allows setting userdata items with expiration time (<code class="docutils literal"><span class="pre">mark_as_temp()</span></code>, <code class="docutils literal"><span class="pre">tempdata()</span></code>, <code class="docutils literal"><span class="pre">set_tempdata()</span></code>, <code class="docutils literal"><span class="pre">unset_tempdata()</span></code>).</li>
<li>Changed method <code class="docutils literal"><span class="pre">keep_flashdata()</span></code> to also accept an array of keys.</li>
<li>Changed methods <code class="docutils literal"><span class="pre">userdata()</span></code>, <code class="docutils literal"><span class="pre">flashdata()</span></code> to return an array of all userdata/flashdata when no parameter is passed.</li>
<li>Deprecated method <code class="docutils literal"><span class="pre">all_userdata()</span></code> - it is now just an alias for <code class="docutils literal"><span class="pre">userdata()</span></code> with no parameters.</li>
<li>Added method <code class="docutils literal"><span class="pre">has_userdata()</span></code> that verifies the existence of a userdata item.</li>
<li>Added <em>debug</em> level log messages for key events in the session validation process.</li>
<li>Dropped support for the <em>sess_match_useragent</em> option.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/file_uploading.html"><span class="doc">File Uploading Library</span></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added support for using array notation in file field names.</li>
<li>Added <strong>max_filename_increment</strong> and <strong>file_ext_tolower</strong> configuration settings.</li>
<li>Added <strong>min_width</strong> and <strong>min_height</strong> configuration settings for images.</li>
<li>Added <strong>mod_mime_fix</strong> configuration setting to disable suffixing multiple file extensions with an underscore.</li>
<li>Added the possibility pass <strong>allowed_types</strong> as an array.</li>
<li>Added an <code class="docutils literal"><span class="pre">$index</span></code> parameter to the method <code class="docutils literal"><span class="pre">data()</span></code>.</li>
<li>Added a <code class="docutils literal"><span class="pre">$reset</span></code> parameter to method <code class="docutils literal"><span class="pre">initialize()</span></code>.</li>
<li>Removed method <code class="docutils literal"><span class="pre">clean_file_name()</span></code> and its usage in favor of <a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a>’s <code class="docutils literal"><span class="pre">sanitize_filename()</span></code>.</li>
<li>Removed method <code class="docutils literal"><span class="pre">mimes_types()</span></code>.</li>
<li>Changed <code class="docutils literal"><span class="pre">CI_Upload::_prep_filename()</span></code> to simply replace all (but the last) dots in the filename with underscores, instead of suffixing them.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/calendar.html"><span class="doc">Calendar Library</span></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added configuration to generate days of other months instead of blank cells.</li>
<li>Added auto-configuration for <em>next_prev_url</em> if it is empty and <em>show_prev_next</em> is set to TRUE.</li>
<li>Added support for templating via an array in addition to the encoded string.</li>
<li>Changed method <code class="docutils literal"><span class="pre">get_total_days()</span></code> to be an alias for <a class="reference internal" href="helpers/date_helper.html"><span class="doc">Date Helper</span></a> <a class="reference internal" href="helpers/date_helper.html#days_in_month" title="days_in_month"><code class="xref php php-func docutils literal"><span class="pre">days_in_month()</span></code></a>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/cart.html"><span class="doc">Cart Library</span></a> changes include:<ul>
<li>Deprecated the library as too specific for CodeIgniter.</li>
<li>Added method <code class="docutils literal"><span class="pre">remove()</span></code> to remove a cart item, updating with quantity of 0 seemed like a hack but has remained to retain compatibility.</li>
<li>Added method <code class="docutils literal"><span class="pre">get_item()</span></code> to enable retrieving data for a single cart item.</li>
<li>Added unicode support for product names.</li>
<li>Added support for disabling product name strictness via the <code class="docutils literal"><span class="pre">$product_name_safe</span></code> property.</li>
<li>Changed <code class="docutils literal"><span class="pre">insert()</span></code> method to auto-increment quantity for an item when inserted twice instead of resetting it.</li>
<li>Changed <code class="docutils literal"><span class="pre">update()</span></code> method to support updating all properties attached to an item and not to require ‘qty’.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> changes include:<ul>
<li>The <code class="docutils literal"><span class="pre">initialize()</span></code> method now only sets existing class properties.</li>
<li>Added support for 3-length hex color values for <em>wm_font_color</em> and <em>wm_shadow_color</em> properties, as well as validation for them.</li>
<li>Class properties <em>wm_font_color</em>, <em>wm_shadow_color</em> and <em>wm_use_drop_shadow</em> are now protected, to avoid breaking the <code class="docutils literal"><span class="pre">text_watermark()</span></code> method if they are set manually after initialization.</li>
<li>If property <em>maintain_ratio</em> is set to TRUE, <code class="docutils literal"><span class="pre">image_reproportion()</span></code> now doesn’t need both width and height to be specified.</li>
<li>Property <em>maintain_ratio</em> is now taken into account when resizing images using ImageMagick library.</li>
<li>Added support for maintaining transparency for PNG images when watermarking.</li>
<li>Added a <strong>file_permissions</strong> setting.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> changes include:<ul>
<li>Added method <code class="docutils literal"><span class="pre">error_array()</span></code> to return all error messages as an array.</li>
<li>Added method <code class="docutils literal"><span class="pre">set_data()</span></code> to set an alternative data array to be validated instead of the default <code class="docutils literal"><span class="pre">$_POST</span></code>.</li>
<li>Added method <code class="docutils literal"><span class="pre">reset_validation()</span></code> which resets internal validation variables in case of multiple validation routines.</li>
<li>Added support for setting error delimiters in the config file via <code class="docutils literal"><span class="pre">$config['error_prefix']</span></code> and <code class="docutils literal"><span class="pre">$config['error_suffix']</span></code>.</li>
<li>Internal method <code class="docutils literal"><span class="pre">_execute()</span></code> now considers input data to be invalid if a specified rule is not found.</li>
<li>Removed method <code class="docutils literal"><span class="pre">is_numeric()</span></code> as it exists as a native PHP function and <code class="docutils literal"><span class="pre">_execute()</span></code> will find and use that (the <strong>is_numeric</strong> rule itself is deprecated since 1.6.1).</li>
<li>Native PHP functions used as rules can now accept an additional parameter, other than the data itself.</li>
<li>Updated method <code class="docutils literal"><span class="pre">set_rules()</span></code> to accept an array of rules as well as a string.</li>
<li>Fields that have empty rules set no longer run through validation (and therefore are not considered erroneous).</li>
<li>Added rule <strong>differs</strong> to check if the value of a field differs from the value of another field.</li>
<li>Added rule <strong>valid_url</strong>.</li>
<li>Added rule <strong>in_list</strong> to check if the value of a field is within a given list.</li>
<li>Added support for named parameters in error messages.</li>
<li><a class="reference internal" href="libraries/language.html"><span class="doc">Language</span></a> line keys must now be prefixed with <strong>form_validation_</strong>.</li>
<li>Added rule <strong>alpha_numeric_spaces</strong>.</li>
<li>Added support for custom error messages per field rule.</li>
<li>Added support for callable rules when they are passed as an array.</li>
<li>Added support for non-ASCII domains in <strong>valid_email</strong> rule, depending on the Intl extension.</li>
<li>Changed the debug message about an error message not being set to include the rule name it is about.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/caching.html"><span class="doc">Caching Library</span></a> changes include:<ul>
<li>Added Wincache driver.</li>
<li>Added Redis driver.</li>
<li>Added a <em>key_prefix</em> option for cache IDs.</li>
<li>Updated driver <code class="docutils literal"><span class="pre">is_supported()</span></code> methods to log at the “debug” level.</li>
<li>Added option to store raw values instead of CI-formatted ones (APC, Memcache).</li>
<li>Added atomic increment/decrement feature via <code class="docutils literal"><span class="pre">increment()</span></code>, <code class="docutils literal"><span class="pre">decrement()</span></code>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/email.html"><span class="doc">E-mail Library</span></a> changes include:<ul>
<li>Added a custom filename parameter to <code class="docutils literal"><span class="pre">attach()</span></code> as <code class="docutils literal"><span class="pre">$this-&gt;email-&gt;attach($filename,</span> <span class="pre">$disposition,</span> <span class="pre">$newname)</span></code>.</li>
<li>Added possibility to send attachment as buffer string in <code class="docutils literal"><span class="pre">attach()</span></code> as <code class="docutils literal"><span class="pre">$this-&gt;email-&gt;attach($buffer,</span> <span class="pre">$disposition,</span> <span class="pre">$newname,</span> <span class="pre">$mime)</span></code>.</li>
<li>Added possibility to attach remote files by passing a URL.</li>
<li>Added method <code class="docutils literal"><span class="pre">attachment_cid()</span></code> to enable embedding inline attachments into HTML.</li>
<li>Added dsn (delivery status notification) option.</li>
<li>Renamed method <code class="docutils literal"><span class="pre">_set_header()</span></code> to <code class="docutils literal"><span class="pre">set_header()</span></code> and made it public to enable adding custom headers.</li>
<li>Successfully sent emails will automatically clear the parameters.</li>
<li>Added a <em>return_path</em> parameter to the <code class="docutils literal"><span class="pre">from()</span></code> method.</li>
<li>Removed the second parameter (character limit) from internal method <code class="docutils literal"><span class="pre">_prep_quoted_printable()</span></code> as it is never used.</li>
<li>Internal method <code class="docutils literal"><span class="pre">_prep_quoted_printable()</span></code> will now utilize the native <code class="docutils literal"><span class="pre">quoted_printable_encode()</span></code>, <code class="docutils literal"><span class="pre">imap_8bit()</span></code> functions (if available) when CRLF is set to “rn”.</li>
<li>Default charset now relies on the global <code class="docutils literal"><span class="pre">$config['charset']</span></code> setting.</li>
<li>Removed unused protected method <code class="docutils literal"><span class="pre">_get_ip()</span></code> (<a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a>’s <code class="docutils literal"><span class="pre">ip_address()</span></code> should be used anyway).</li>
<li>Internal method <code class="docutils literal"><span class="pre">_prep_q_encoding()</span></code> now utilizes PHP’s <em>mbstring</em> and <em>iconv</em> extensions (when available) and no longer has a second (<code class="docutils literal"><span class="pre">$from</span></code>) argument.</li>
<li>Added an optional parameter to <code class="docutils literal"><span class="pre">print_debugger()</span></code> to allow specifying which parts of the message should be printed (‘headers’, ‘subject’, ‘body’).</li>
<li>Added SMTP keepalive option to avoid opening the connection for each <code class="docutils literal"><span class="pre">send()</span></code> call. Accessible as <code class="docutils literal"><span class="pre">$smtp_keepalive</span></code>.</li>
<li>Public method <code class="docutils literal"><span class="pre">set_header()</span></code> now filters the input by removing all “\r” and “\n” characters.</li>
<li>Added support for non-ASCII domains in <code class="docutils literal"><span class="pre">valid_email()</span></code>, depending on the Intl extension.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/pagination.html"><span class="doc">Pagination Library</span></a> changes include:<ul>
<li>Deprecated usage of the “anchor_class” setting (use the new “attributes” setting instead).</li>
<li>Added method chaining support to <code class="docutils literal"><span class="pre">initialize()</span></code> method.</li>
<li>Added support for the anchor “rel” attribute.</li>
<li>Added support for setting custom attributes.</li>
<li>Added support for language translations of the <em>first_link</em>, <em>next_link</em>, <em>prev_link</em> and <em>last_link</em> values.</li>
<li>Added support for <code class="docutils literal"><span class="pre">$config['num_links']</span> <span class="pre">=</span> <span class="pre">0</span></code> configuration.</li>
<li>Added <code class="docutils literal"><span class="pre">$config['reuse_query_string']</span></code> to allow automatic repopulation of query string arguments, combined with normal URI segments.</li>
<li>Added <code class="docutils literal"><span class="pre">$config['use_global_url_suffix']</span></code> to allow overriding the library ‘suffix’ value with that of the global <code class="docutils literal"><span class="pre">$config['url_suffix']</span></code> setting.</li>
<li>Removed the default <code class="docutils literal"><span class="pre">&amp;nbsp;</span></code> from a number of the configuration variables.</li>
</ul>
</li>
<li><a class="reference internal" href="general/profiling.html"><span class="doc">Profiler Library</span></a> changes include:<ul>
<li>Database object names are now being displayed.</li>
<li>The sum of all queries running times in seconds is now being displayed.</li>
<li>Added support for displaying the HTTP DNT (“Do Not Track”) header.</li>
<li>Added support for displaying <code class="docutils literal"><span class="pre">$_FILES</span></code>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/migration.html"><span class="doc">Migration Library</span></a> changes include:<ul>
<li>Added support for timestamp-based migrations (enabled by default).</li>
<li>Added <code class="docutils literal"><span class="pre">$config['migration_type']</span></code> to allow switching between <em>sequential</em> and <em>timestamp</em> migrations.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/xmlrpc.html"><span class="doc">XML-RPC Library</span></a> changes include:<ul>
<li>Added the ability to use a proxy.</li>
<li>Added Basic HTTP authentication support.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/user_agent.html"><span class="doc">User Agent Library</span></a> changes include:<ul>
<li>Added check to detect if robots are pretending to be mobile clients (helps with e.g. Google indexing mobile website versions).</li>
<li>Added method <code class="docutils literal"><span class="pre">parse()</span></code> to allow parsing a custom user-agent string, different from the current visitor’s.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/table.html"><span class="doc">HTML Table Library</span></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added support for setting table class defaults in a config file.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/zip.html"><span class="doc">Zip Library</span></a> changes include:<ul>
<li>Method <code class="docutils literal"><span class="pre">read_file()</span></code> can now also alter the original file path/name while adding files to an archive.</li>
<li>Added support for changing the compression level.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/trackback.html"><span class="doc">Trackback Library</span></a> method <code class="docutils literal"><span class="pre">receive()</span></code> will now utilize <code class="docutils literal"><span class="pre">iconv()</span></code> if it is available but <code class="docutils literal"><span class="pre">mb_convert_encoding()</span></code> is not.</li>
</ul>
</li>
<li>Core<ul>
<li><a class="reference internal" href="general/routing.html"><span class="doc">Routing</span></a> changes include:<ul>
<li>Added support for multiple levels of controller directories.</li>
<li>Added support for per-directory <em>default_controller</em> and <em>404_override</em> classes.</li>
<li>Added possibility to route requests using HTTP verbs.</li>
<li>Added possibility to route requests using callbacks.</li>
<li>Added a new reserved route (<em>translate_uri_dashes</em>) to allow usage of dashes in the controller and method URI segments.</li>
<li>Deprecated methods <code class="docutils literal"><span class="pre">fetch_directory()</span></code>, <code class="docutils literal"><span class="pre">fetch_class()</span></code> and <code class="docutils literal"><span class="pre">fetch_method()</span></code> in favor of their respective public properties.</li>
<li>Removed method <code class="docutils literal"><span class="pre">_set_overrides()</span></code> and moved its logic to the class constructor.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/uri.html"><span class="doc">URI Library</span></a> changes include:<ul>
<li>Added conditional PCRE UTF-8 support to the “invalid URI characters” check and removed the <code class="docutils literal"><span class="pre">preg_quote()</span></code> call from it to allow more flexibility.</li>
<li>Renamed method <code class="docutils literal"><span class="pre">_filter_uri()</span></code> to <code class="docutils literal"><span class="pre">filter_uri()</span></code>.</li>
<li>Changed method <code class="docutils literal"><span class="pre">filter_uri()</span></code> to accept by reference and removed its return value.</li>
<li>Changed private methods to protected so that MY_URI can override them.</li>
<li>Renamed internal method <code class="docutils literal"><span class="pre">_parse_cli_args()</span></code> to <code class="docutils literal"><span class="pre">_parse_argv()</span></code>.</li>
<li>Renamed internal method <code class="docutils literal"><span class="pre">_detect_uri()</span></code> to <code class="docutils literal"><span class="pre">_parse_request_uri()</span></code>.</li>
<li>Changed <code class="docutils literal"><span class="pre">_parse_request_uri()</span></code> to accept absolute URIs for compatibility with HTTP/1.1 as per <cite>RFC2616 &lt;http://www.ietf.org/rfc/rfc2616.txt&gt;</cite>.</li>
<li>Added protected method <code class="docutils literal"><span class="pre">_parse_query_string()</span></code> to URI paths in the the <strong>QUERY_STRING</strong> value, like <code class="docutils literal"><span class="pre">_parse_request_uri()</span></code> does.</li>
<li>Changed URI string detection logic to always default to <strong>REQUEST_URI</strong> unless configured otherwise or under CLI.</li>
<li>Removed methods <code class="docutils literal"><span class="pre">_remove_url_suffix()</span></code>, <code class="docutils literal"><span class="pre">_explode_segments()</span></code> and moved their logic into <code class="docutils literal"><span class="pre">_set_uri_string()</span></code>.</li>
<li>Removed method <code class="docutils literal"><span class="pre">_fetch_uri_string()</span></code> and moved its logic into the class constructor.</li>
<li>Removed method <code class="docutils literal"><span class="pre">_reindex_segments()</span></code>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/loader.html"><span class="doc">Loader Library</span></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added method <code class="docutils literal"><span class="pre">get_vars()</span></code> to the Loader to retrieve all variables loaded with <code class="docutils literal"><span class="pre">$this-&gt;load-&gt;vars()</span></code>.</li>
<li><code class="docutils literal"><span class="pre">_ci_autoloader()</span></code> is now a protected method.</li>
<li>Added autoloading of drivers with <code class="docutils literal"><span class="pre">$autoload['drivers']</span></code>.</li>
<li><code class="docutils literal"><span class="pre">$config['rewrite_short_tags']</span></code> now has no effect when using PHP 5.4 as <code class="docutils literal"><span class="pre">&lt;?=</span></code> will always be available.</li>
<li>Changed method <code class="docutils literal"><span class="pre">config()</span></code> to return whatever <code class="docutils literal"><span class="pre">CI_Config::load()</span></code> returns instead of always being void.</li>
<li>Added support for library and model aliasing on autoload.</li>
<li>Changed method <code class="docutils literal"><span class="pre">is_loaded()</span></code> to ask for the (case sensitive) library name instead of its instance name.</li>
<li>Removed <code class="docutils literal"><span class="pre">$_base_classes</span></code> property and unified all class data in <code class="docutils literal"><span class="pre">$_ci_classes</span></code> instead.</li>
<li>Added method <code class="docutils literal"><span class="pre">clear_vars()</span></code> to allow clearing the cached variables for views.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/input.html"><span class="doc">Input Library</span></a> changes include:<ul>
<li>Deprecated the <code class="docutils literal"><span class="pre">$config['global_xss_filtering']</span></code> setting.</li>
<li>Added <code class="docutils literal"><span class="pre">method()</span></code> to retrieve <code class="docutils literal"><span class="pre">$_SERVER['REQUEST_METHOD']</span></code>.</li>
<li>Added support for arrays and network addresses (e.g. 192.168.1.1/24) for use with the <em>proxy_ips</em> setting.</li>
<li>Added method <code class="docutils literal"><span class="pre">input_stream()</span></code> to aid in using <strong>php://input</strong> stream data such as one passed via PUT, DELETE and PATCH requests.</li>
<li>Changed method <code class="docutils literal"><span class="pre">valid_ip()</span></code> to use PHP’s native <code class="docutils literal"><span class="pre">filter_var()</span></code> function.</li>
<li>Changed internal method <code class="docutils literal"><span class="pre">_sanitize_globals()</span></code> to skip enforcing reversal of <em>register_globals</em> in PHP 5.4+, where this functionality no longer exists.</li>
<li>Changed methods <code class="docutils literal"><span class="pre">get()</span></code>, <code class="docutils literal"><span class="pre">post()</span></code>, <code class="docutils literal"><span class="pre">get_post()</span></code>, <code class="docutils literal"><span class="pre">cookie()</span></code>, <code class="docutils literal"><span class="pre">server()</span></code>, <code class="docutils literal"><span class="pre">user_agent()</span></code> to return NULL instead of FALSE when no value is found.</li>
<li>Changed default value of the <code class="docutils literal"><span class="pre">$xss_clean</span></code> parameter to NULL for all methods that utilize it, the default value is now determined by the <code class="docutils literal"><span class="pre">$config['global_xss_filtering']</span></code> setting.</li>
<li>Added method <code class="docutils literal"><span class="pre">post_get()</span></code> and changed <code class="docutils literal"><span class="pre">get_post()</span></code> to search in GET data first. Both methods’ names now properly match their GET/POST data search priorities.</li>
<li>Changed method <code class="docutils literal"><span class="pre">_fetch_from_array()</span></code> to parse array notation in field name.</li>
<li>Changed method <code class="docutils literal"><span class="pre">_fetch_from_array()</span></code> to allow retrieving multiple fields at once.</li>
<li>Added an option for <code class="docutils literal"><span class="pre">_clean_input_keys()</span></code> to return FALSE instead of terminating the whole script.</li>
<li>Deprecated the <code class="docutils literal"><span class="pre">is_cli_request()</span></code> method, it is now an alias for the new <a class="reference internal" href="general/common_functions.html#is_cli" title="is_cli"><code class="xref php php-func docutils literal"><span class="pre">is_cli()</span></code></a> common function.</li>
<li>Added an <code class="docutils literal"><span class="pre">$xss_clean</span></code> parameter to method <code class="docutils literal"><span class="pre">user_agent()</span></code> and removed the <code class="docutils literal"><span class="pre">$user_agent</span></code> property.</li>
<li>Added property <code class="docutils literal"><span class="pre">$raw_input_stream</span></code> to access <strong>php://input</strong> data.</li>
</ul>
</li>
<li><a class="reference internal" href="general/common_functions.html"><span class="doc">Common functions</span></a> changes include:<ul>
<li>Added function <a class="reference internal" href="general/common_functions.html#get_mimes" title="get_mimes"><code class="xref php php-func docutils literal"><span class="pre">get_mimes()</span></code></a> to return the <em>application/config/mimes.php</em> array.</li>
<li>Added support for HTTP code 303 (“See Other”) in <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><code class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></code></a>.</li>
<li>Removed redundant conditional to determine HTTP server protocol in <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><code class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></code></a>.</li>
<li>Renamed <code class="docutils literal"><span class="pre">_exception_handler()</span></code> to <code class="docutils literal"><span class="pre">_error_handler()</span></code> and replaced it with a real exception handler.</li>
<li>Changed <code class="docutils literal"><span class="pre">_error_handler()</span></code> to respect php.ini <em>display_errors</em> setting.</li>
<li>Added function <a class="reference internal" href="general/common_functions.html#is_https" title="is_https"><code class="xref php php-func docutils literal"><span class="pre">is_https()</span></code></a> to check if a secure connection is used.</li>
<li>Added function <a class="reference internal" href="general/common_functions.html#is_cli" title="is_cli"><code class="xref php php-func docutils literal"><span class="pre">is_cli()</span></code></a> to replace the <code class="docutils literal"><span class="pre">CI_Input::is_cli_request()</span></code> method.</li>
<li>Added function <a class="reference internal" href="general/common_functions.html#function_usable" title="function_usable"><code class="xref php php-func docutils literal"><span class="pre">function_usable()</span></code></a> to work around a bug in <cite>Suhosin &lt;http://www.hardened-php.net/suhosin/&gt;</cite>.</li>
<li>Removed the third (<cite>$php_error</cite>) argument from function <a class="reference internal" href="general/errors.html#log_message" title="log_message"><code class="xref php php-func docutils literal"><span class="pre">log_message()</span></code></a>.</li>
<li>Changed internal function <code class="docutils literal"><span class="pre">load_class()</span></code> to accept a constructor parameter instead of (previously unused) class name prefix.</li>
<li>Removed default parameter value of <a class="reference internal" href="general/common_functions.html#is_php" title="is_php"><code class="xref php php-func docutils literal"><span class="pre">is_php()</span></code></a>.</li>
<li>Added a second argument <code class="docutils literal"><span class="pre">$double_encode</span></code> to <a class="reference internal" href="general/common_functions.html#html_escape" title="html_escape"><code class="xref php php-func docutils literal"><span class="pre">html_escape()</span></code></a>.</li>
<li>Changed function <a class="reference internal" href="general/common_functions.html#config_item" title="config_item"><code class="xref php php-func docutils literal"><span class="pre">config_item()</span></code></a> to return NULL instead of FALSE when no value is found.</li>
<li>Changed function <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><code class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></code></a> to return immediately when run under CLI.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/output.html"><span class="doc">Output Library</span></a> changes include:<ul>
<li>Added a second argument to method <code class="docutils literal"><span class="pre">set_content_type()</span></code> that allows setting the document charset as well.</li>
<li>Added methods <code class="docutils literal"><span class="pre">get_content_type()</span></code> and <code class="docutils literal"><span class="pre">get_header()</span></code>.</li>
<li>Added method <code class="docutils literal"><span class="pre">delete_cache()</span></code>.</li>
<li>Added configuration option <code class="docutils literal"><span class="pre">$config['cache_query_string']</span></code> to enable taking the query string into account when caching.</li>
<li>Changed caching behavior to compress the output before storing it, if <code class="docutils literal"><span class="pre">$config['compress_output']</span></code> is enabled.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/config.html"><span class="doc">Config Library</span></a> changes include:<ul>
<li>Changed <code class="docutils literal"><span class="pre">site_url()</span></code> method  to accept an array as well.</li>
<li>Removed internal method <code class="docutils literal"><span class="pre">_assign_to_config()</span></code> and moved its implementation to <em>CodeIgniter.php</em> instead.</li>
<li><code class="docutils literal"><span class="pre">item()</span></code> now returns NULL instead of FALSE when the required config item doesn’t exist.</li>
<li>Added an optional second parameter to both <code class="docutils literal"><span class="pre">base_url()</span></code> and <code class="docutils literal"><span class="pre">site_url()</span></code> that allows enforcing of a protocol different than the one in the <em>base_url</em> configuration setting.</li>
<li>Added HTTP “Host” header character validation to prevent cache poisoning attacks when <code class="docutils literal"><span class="pre">base_url</span></code> auto-detection is used.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/security.html"><span class="doc">Security Library</span></a> changes include:<ul>
<li>Added <code class="docutils literal"><span class="pre">$config['csrf_regeneration']</span></code>, which makes CSRF token regeneration optional.</li>
<li>Added <code class="docutils literal"><span class="pre">$config['csrf_exclude_uris']</span></code>, allowing for exclusion of URIs from the CSRF protection (regular expressions are supported).</li>
<li>Added method <code class="docutils literal"><span class="pre">strip_image_tags()</span></code>.</li>
<li>Added method <code class="docutils literal"><span class="pre">get_random_bytes()</span></code> and switched CSRF &amp; XSS token generation to use it.</li>
<li>Modified method <code class="docutils literal"><span class="pre">sanitize_filename()</span></code> to read a public <code class="docutils literal"><span class="pre">$filename_bad_chars</span></code> property for getting the invalid characters list.</li>
<li>Return status code of 403 instead of a 500 if CSRF protection is enabled but a token is missing from a request.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/language.html"><span class="doc">Language Library</span></a> changes include:<ul>
<li>Changed method <code class="docutils literal"><span class="pre">load()</span></code> to filter the language name with <code class="docutils literal"><span class="pre">ctype_alpha()</span></code>.</li>
<li>Changed method <code class="docutils literal"><span class="pre">load()</span></code> to also accept an array of language files.</li>
<li>Added an optional second parameter to method <code class="docutils literal"><span class="pre">line()</span></code> to disable error logging for line keys that were not found.</li>
<li>Language files are now loaded in a cascading style with the one in <strong>system/</strong> always loaded and overridden afterwards, if another one is found.</li>
</ul>
</li>
<li><a class="reference internal" href="general/hooks.html"><span class="doc">Hooks Library</span></a> changes include:<ul>
<li>Added support for closure hooks (or anything that <code class="docutils literal"><span class="pre">is_callable()</span></code> returns TRUE for).</li>
<li>Renamed method <code class="docutils literal"><span class="pre">_call_hook()</span></code> to <code class="docutils literal"><span class="pre">call_hook()</span></code>.</li>
<li>Class instances are now stored in order to maintain their state.</li>
</ul>
</li>
<li>UTF-8 Library changes include:<ul>
<li><code class="docutils literal"><span class="pre">UTF8_ENABLED</span></code> now requires only one of <a class="reference external" href="http://php.net/mbstring">Multibyte String</a> or <a class="reference external" href="http://php.net/iconv">iconv</a> to be available instead of both.</li>
<li>Changed method <code class="docutils literal"><span class="pre">clean_string()</span></code> to utilize <code class="docutils literal"><span class="pre">mb_convert_encoding()</span></code> if it is available.</li>
<li>Renamed method <code class="docutils literal"><span class="pre">_is_ascii()</span></code> to <code class="docutils literal"><span class="pre">is_ascii()</span></code> and made it public.</li>
</ul>
</li>
<li>Log Library changes include:<ul>
<li>Added a <code class="docutils literal"><span class="pre">$config['log_file_permissions']</span></code> setting.</li>
<li>Changed the library constructor to try to create the <strong>log_path</strong> directory if it doesn’t exist.</li>
<li>Added support for microseconds (“u” date format character) in <code class="docutils literal"><span class="pre">$config['log_date_format']</span></code>.</li>
</ul>
</li>
<li>Added <a class="reference internal" href="general/compatibility_functions.html"><span class="doc">compatibility layers</span></a> for:<ul>
<li><a class="reference external" href="http://php.net/mbstring">Multibyte String</a> (limited support).</li>
<li><a class="reference external" href="http://php.net/hash">Hash</a> (<code class="docutils literal"><span class="pre">hash_equals()</span></code>, <code class="docutils literal"><span class="pre">hash_pbkdf2()</span></code>).</li>
<li><a class="reference external" href="http://php.net/password">Password Hashing</a>.</li>
<li><cite>Standard Functions ``array_column()`</cite>, <code class="docutils literal"><span class="pre">array_replace()</span></code>, <code class="docutils literal"><span class="pre">array_replace_recursive()</span></code>, <code class="docutils literal"><span class="pre">hex2bin()</span></code>, <code class="docutils literal"><span class="pre">quoted_printable_encode()</span></code>.</li>
</ul>
</li>
<li>Removed <code class="docutils literal"><span class="pre">CI_CORE</span></code> boolean constant from <em>CodeIgniter.php</em> (no longer Reactor and Core versions).</li>
<li>Added support for HTTP-Only cookies with new config option <em>cookie_httponly</em> (default FALSE).</li>
<li><code class="docutils literal"><span class="pre">$config['time_reference']</span></code> now supports all timezone strings supported by PHP.</li>
<li>Fatal PHP errors are now also passed to <code class="docutils literal"><span class="pre">_error_handler()</span></code>, so they can be logged.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0">
<h3>Bug fixes for 3.0<a class="headerlink" href="#bug-fixes-for-3-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug where <code class="docutils literal"><span class="pre">unlink()</span></code> raised an error if cache file did not exist when you try to delete it.</li>
<li>Fixed a bug (#181) - a typo in the form validation language file.</li>
<li>Fixed a bug (#159, #163) - <a class="reference internal" href="database/query_builder.html"><span class="doc">Query Builder</span></a> nested transactions didn’t work properly due to <code class="docutils literal"><span class="pre">$_trans_depth</span></code> not being incremented.</li>
<li>Fixed a bug (#737, #75) - <a class="reference internal" href="libraries/pagination.html"><span class="doc">Pagination</span></a> anchor class was not set properly when using initialize method.</li>
<li>Fixed a bug (#419) - <a class="reference internal" href="helpers/url_helper.html"><span class="doc">URL Helper</span></a> <a class="reference internal" href="helpers/url_helper.html#auto_link" title="auto_link"><code class="xref php php-func docutils literal"><span class="pre">auto_link()</span></code></a> didn’t recognize URLs that come after a word boundary.</li>
<li>Fixed a bug (#724) - <a class="reference internal" href="libraries/form_validation.html"><span class="doc">Form Validation Library</span></a> rule <strong>is_unique</strong> didn’t check if a database connection exists.</li>
<li>Fixed a bug (#647) - <a class="reference internal" href="libraries/zip.html"><span class="doc">Zip Library</span></a> internal method <code class="docutils literal"><span class="pre">_get_mod_time()</span></code> didn’t suppress possible “stat failed” errors generated by <code class="docutils literal"><span class="pre">filemtime()</span></code>.</li>
<li>Fixed a bug (#157, #174) - <a class="reference internal" href="libraries/image_lib.html"><span class="doc">Image Manipulation Library</span></a> method <code class="docutils literal"><span class="pre">clear()</span></code> didn’t completely clear properties.</li>
<li>Fixed a bug where <a class="reference internal" href="database/forge.html"><span class="doc">Database Forge</span></a> method <code class="docutils literal"><span class="pre">create_table()</span></code> with PostgreSQL database could lead to fetching the whole table.</li>
<li>Fixed a bug (#795) - <a class="reference internal" href="helpers/form_helper.html"><span class="doc">Form Helper</span></a> <a class="reference internal" href="helpers/form_helper.html#form_open" title="form_open"><code class="xref php php-func docutils literal"><span class="pre">form_open()</span></code></a> didn’t add the default form <em>method</em> and <em>accept-charset</em> when an empty array is passed to it.</li>
<li>Fixed a bug (#797) - <a class="reference internal" href="helpers/date_helper.html"><span class="doc">Date Helper</span></a> <a class="reference internal" href="helpers/date_helper.html#timespan" title="timespan"><code class="xref php php-func docutils literal"><span class="pre">timespan()</span></code></a> was using incorrect seconds for year and month.</li>
<li>Fixed a bug in <a class="reference internal" href="libraries/cart.html"><span class="doc">Cart Library</span></a> method <code class="docutils literal"><span class="pre">contents()</span></code> where if called without a TRUE (or equal) parameter, it would fail due to a typo.</li>
<li>Fixed a bug (#406) - SQLSRV DB driver not returning resource on <code class="docutils literal"><span class="